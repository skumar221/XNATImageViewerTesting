function g(){return function(){}}function aa(a){return function(b){this[a]=b}}function k(a){return function(){return this[a]}}var p,r=this;function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function s(a){return void 0!==a}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(null,arguments)}function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var pa=Date.now||function(){return+new Date};
function u(a,b){var c=a.split("."),d=r;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function w(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c};function qa(a){if(!ra.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(sa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ta,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ua,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(va,"&quot;"));return a}var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,ra=/[&<>\"]/;function wa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function xa(a){var b=t(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var ya=Array.prototype,za=ya.indexOf?function(a,b,c){return ya.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(t(a))return t(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Aa=ya.forEach?function(a,b,c){ya.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ba=ya.filter?function(a,b,c){return ya.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,h=t(a)?a.split(""):a,m=0;m<d;m++)if(m in h){var n=h[m];b.call(c,n,m,a)&&(e[f++]=n)}return e};function Ca(a,b){var c=za(a,b),d;(d=0<=c)&&ya.splice.call(a,c,1);return d}function Da(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ea(a,b,c,d){ya.splice.apply(a,Fa(arguments,1))}function Fa(a,b,c){return 2>=arguments.length?ya.slice.call(a,b):ya.slice.call(a,b,c)};var Ga;function Ha(a){a=a.className;return t(a)&&a.match(/\S+/g)||[]}function x(a,b){for(var c=Ha(a),d=Fa(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)0<=za(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e}function Ia(a,b){var c=Ha(a),d=Fa(arguments,1),c=Ja(c,d);a.className=c.join(" ")}function Ja(a,b){return Ba(a,function(a){return!(0<=za(b,a))})}
function Ka(a,b,c){for(var d=Ha(a),e=!1,f=0;f<d.length;f++)d[f]==b&&(Ea(d,f--,1),e=!0);e&&(d.push(c),a.className=d.join(" "))}function La(a,b,c){c?x(a,b):Ia(a,b)};function Ma(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Na(){var a=Oa,b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Pa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Qa(a){for(var b in a)return!1;return!0}var Ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ra.length;f++)c=Ra[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ta,Ua,Va,Wa,Xa,Ya;function Za(){return r.navigator?r.navigator.userAgent:null}Wa=Va=Ua=Ta=!1;var $a;if($a=Za()){var ab=r.navigator;Ta=0==$a.indexOf("Opera");Ua=!Ta&&-1!=$a.indexOf("MSIE");Va=!Ta&&-1!=$a.indexOf("WebKit");Wa=!Ta&&!Va&&"Gecko"==ab.product}var bb=Ta,y=Ua,z=Wa,A=Va,cb,db=r.navigator;cb=db&&db.platform||"";Xa=-1!=cb.indexOf("Mac");Ya=-1!=cb.indexOf("Win");var eb=-1!=cb.indexOf("Linux");function fb(){var a=r.document;return a?a.documentMode:void 0}var gb;
a:{var hb="",ib;if(bb&&r.opera)var jb=r.opera.version,hb="function"==typeof jb?jb():jb;else if(z?ib=/rv\:([^\);]+)(\)|;)/:y?ib=/MSIE\s+([^\);]+)(\)|;)/:A&&(ib=/WebKit\/(\S+)/),ib)var kb=ib.exec(Za()),hb=kb?kb[1]:"";if(y){var lb=fb();if(lb>parseFloat(hb)){gb=String(lb);break a}}gb=hb}var mb={};
function B(a){var b;if(!(b=mb[a])){b=0;for(var c=String(gb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",m=d[f]||"",n=RegExp("(\\d*)(\\D*)","g"),E=RegExp("(\\d*)(\\D*)","g");do{var q=n.exec(h)||["","",""],v=E.exec(m)||["","",""];if(0==q[0].length&&0==v[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==v[1].length?0:parseInt(v[1],10))?-1:(0==q[1].length?0:parseInt(q[1],
10))>(0==v[1].length?0:parseInt(v[1],10))?1:0)||((0==q[2].length)<(0==v[2].length)?-1:(0==q[2].length)>(0==v[2].length)?1:0)||(q[2]<v[2]?-1:q[2]>v[2]?1:0)}while(0==b)}b=mb[a]=0<=b}return b}var nb=r.document,ob=nb&&y?fb()||("CSS1Compat"==nb.compatMode?parseInt(gb,10):5):void 0;function pb(a,b){this.width=a;this.height=b}p=pb.prototype;p.Lc=function(){return new pb(this.width,this.height)};p.toString=function(){return"("+this.width+" x "+this.height+")"};p.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};p.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var qb=!y||y&&9<=ob,rb=!z&&!y||y&&y&&9<=ob||z&&B("1.9.1"),tb=y&&!B("9");function ub(a,b,c){return Math.min(Math.max(a,b),c)};function C(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}p=C.prototype;p.Lc=function(){return new C(this.x,this.y)};p.toString=function(){return"("+this.x+", "+this.y+")"};p.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};p.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};p.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function D(a){return a?new vb(wb(a)):Ga||(Ga=new vb)}function xb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):yb(document,"*",a,b)}function zb(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):xb(a,b)[0])||null}
function yb(a,b,c,d){a=d||a;b=b&&"*"!=b?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,"function"==typeof b.split&&0<=za(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a}
function Ab(a,b){Ma(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Bb?a.setAttribute(Bb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Bb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Cb(a,b,c){return Db(document,arguments)}function Db(a,b){var c=b[0],d=b[1];if(!qb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',qa(d.name),'"');if(d.type){c.push(' type="',qa(d.type),'"');var e={};Sa(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(t(d)?c.className=d:da(d)?x.apply(null,[c].concat(d)):Ab(c,d));2<b.length&&Eb(a,c,b);return c}
function Eb(a,b,c){function d(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];if(!ea(f)||ha(f)&&0<f.nodeType)d(f);else{var h;a:{if(f&&"number"==typeof f.length){if(ha(f)){h="function"==typeof f.item||"string"==typeof f.item;break a}if(ga(f)){h="function"==typeof f.item;break a}}h=!1}Aa(h?Da(f):f,d)}}}function Fb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Gb(a){return rb&&void 0!=a.children?a.children:Ba(a.childNodes,function(a){return 1==a.nodeType})}function Hb(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Ib(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function wb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
var Jb={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Kb={IMG:" ",BR:"\n"};function Lb(a,b,c){if(!(a.nodeName in Jb))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Kb)b.push(Kb[a.nodeName]);else for(a=a.firstChild;a;)Lb(a,b,c),a=a.nextSibling}function Mb(a,b){return b?Nb(a,function(a){var d;(d=!b)||(a=Ha(a),d=0<=za(a,b));return d}):null}function Nb(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}
function vb(a){this.L=a||r.document||document}p=vb.prototype;p.oc=D;p.a=function(a){return t(a)?this.L.getElementById(a):a};p.K=function(a,b,c){return Db(this.L,arguments)};p.createElement=function(a){return this.L.createElement(a)};p.createTextNode=function(a){return this.L.createTextNode(String(a))};
function Ob(a){var b=a.L;a=A||"CSS1Compat"!=b.compatMode?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return y&&B("10")&&b.pageYOffset!=a.scrollTop?new C(a.scrollLeft,a.scrollTop):new C(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}p.appendChild=function(a,b){a.appendChild(b)};p.contains=Ib;function Pb(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}p=Pb.prototype;p.Lc=function(){return new Pb(this.top,this.right,this.bottom,this.left)};p.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};p.contains=function(a){return this&&a?a instanceof Pb?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
p.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};p.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};p.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Qb(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}p=Qb.prototype;p.Lc=function(){return new Qb(this.left,this.top,this.width,this.height)};p.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};p.contains=function(a){return a instanceof Qb?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
p.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};p.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Rb(a,b){t(b)?Sb(a,void 0,b):Ma(b,oa(Sb,a))}function Sb(a,b,c){var d;a:if(d=wa(c),void 0===a.style[d]&&(c=(A?"Webkit":z?"Moz":y?"ms":bb?"O":null)+xa(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function Tb(a,b){var c=wb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Ub(a,b){return Tb(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function Vb(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}y&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Wb(a){if(y&&!(y&&8<=ob))return a.offsetParent;var b=wb(a),c=Ub(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Ub(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Xb(a){var b,c=wb(a),d=Ub(a,"position"),e=z&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new C(0,0),h;b=c?wb(c):document;(h=!y)||(h=y&&9<=ob)||(h="CSS1Compat"==D(b).L.compatMode);h=h?b.documentElement:b.body;if(a==h)return f;if(a.getBoundingClientRect)b=Vb(a),a=Ob(D(c)),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;
else{e=a;do{f.x+=e.offsetLeft;f.y+=e.offsetTop;e!=a&&(f.x+=e.clientLeft||0,f.y+=e.clientTop||0);if(A&&"fixed"==Ub(e,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(bb||A&&"absolute"==d)f.y-=c.body.offsetTop;for(e=a;(e=Wb(e))&&e!=c.body&&e!=h;)f.x-=e.scrollLeft,bb&&"TR"==e.tagName||(f.y-=e.scrollTop)}return f}function Yb(a,b){var c=Zb(a),d=Zb(b);return new C(c.x-d.x,c.y-d.y)}
function Zb(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=Vb(a),b=new C(b.left,b.top);else{b=Ob(D(a));var c=Xb(a);b=new C(c.x-b.x,c.y-b.y)}if(z&&!B(12)){var d;y?d="-ms-transform":A?d="-webkit-transform":bb?d="-o-transform":z&&(d="-moz-transform");var e;d&&(e=Ub(a,d));e||(e=Ub(a,"transform"));a=e?(a=e.match($b))?new C(parseFloat(a[1]),parseFloat(a[2])):new C(0,0):new C(0,0);a=new C(b.x+a.x,b.y+a.y)}else a=b;return a}d=ga(a.wg);e=a;a.targetTouches?e=a.targetTouches[0]:d&&a.W.targetTouches&&
(e=a.W.targetTouches[0]);return new C(e.clientX,e.clientY)}function ac(a){if("none"!=Ub(a,"display"))return bc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=bc(a);b.display=c;b.position=e;b.visibility=d;return a}function bc(a){var b=a.offsetWidth,c=a.offsetHeight,d=A&&!b&&!c;return s(b)&&!d||!a.getBoundingClientRect?new pb(b,c):(a=Vb(a),new pb(a.right-a.left,a.bottom-a.top))}function cc(a,b){a.style.display=b?"":"none"}
function dc(a){y?a.cssText=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }":a.innerHTML=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }"}function ec(a){return"rtl"==Ub(a,"direction")}function fc(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}
function gc(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?fc(a,c):0}var hc={thin:2,medium:4,thick:6};function ic(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in hc?hc[c]:fc(a,c)}
function jc(a){if(y){var b=ic(a,"borderLeft"),c=ic(a,"borderRight"),d=ic(a,"borderTop");a=ic(a,"borderBottom");return new Pb(d,c,a,b)}b=Tb(a,"borderLeftWidth");c=Tb(a,"borderRightWidth");d=Tb(a,"borderTopWidth");a=Tb(a,"borderBottomWidth");return new Pb(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var $b=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;var kc="closure_listenable_"+(1E6*Math.random()|0);function lc(a){return!(!a||!a[kc])}var mc=0;function nc(a,b,c,d,e,f){this.Ga=a;this.wf=b;this.src=c;this.type=d;this.capture=!!e;this.zb=f;this.key=++mc;this.za=this.Nb=!1};var oc=!y||y&&9<=ob,pc=!y||y&&9<=ob,qc=y&&!B("9");!A||B("528");z&&B("1.9b")||y&&B("8")||bb&&B("9.5")||A&&B("528");z&&!B("8")||y&&B("9");var rc="click",sc="mouseover",F="mouseout";function tc(){0!=vc&&(this.Nh=Error().stack,wc[ia(this)]=this)}var vc=0,wc={};tc.prototype.kc=!1;tc.prototype.D=function(){if(!this.kc&&(this.kc=!0,this.g(),0!=vc)){var a=ia(this);delete wc[a]}};function xc(a,b){a.vc||(a.vc=[]);a.vc.push(na(b,void 0))}tc.prototype.g=function(){if(this.vc)for(;this.vc.length;)this.vc.shift()()};function yc(a){a&&"function"==typeof a.D&&a.D()}function zc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];ea(d)?zc.apply(null,d):yc(d)}};function H(a,b){this.type=a;this.currentTarget=this.target=b}p=H.prototype;p.g=g();p.D=g();p.lb=!1;p.defaultPrevented=!1;p.xf=!0;p.stopPropagation=function(){this.lb=!0};p.preventDefault=function(){this.defaultPrevented=!0;this.xf=!1};function Ac(a){a.preventDefault()};function Bc(a){Bc[" "](a);return a}Bc[" "]=ba;function Cc(a,b){a&&this.Sa(a,b)}w(Cc,H);var Dc=[1,4,2];p=Cc.prototype;p.target=null;p.relatedTarget=null;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=!1;p.altKey=!1;p.shiftKey=!1;p.metaKey=!1;p.Zg=!1;p.W=null;
p.Sa=function(a,b){var c=this.type=a.type;H.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(z){var e;a:{try{Bc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else c==sc?d=a.fromElement:c==F&&(d=a.toElement);this.relatedTarget=d;this.offsetX=A||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=A||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Zg=Xa?a.metaKey:a.ctrlKey;this.state=a.state;this.W=a;a.defaultPrevented&&this.preventDefault();delete this.lb};function Ec(a){return oc?0==a.W.button:"click"==a.type?!0:!!(a.W.button&Dc[0])}
p.stopPropagation=function(){Cc.f.stopPropagation.call(this);this.W.stopPropagation?this.W.stopPropagation():this.W.cancelBubble=!0};p.preventDefault=function(){Cc.f.preventDefault.call(this);var a=this.W;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};p.wg=k("W");p.g=g();var Fc={},Gc={},Hc={},Ic={};
function I(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)I(a,b[f],c,d,e);return null}c=Jc(c);if(lc(a))a=a.s(b,c,d,e);else a:{if(!b)throw Error("Invalid event type");d=!!d;var h=Gc;b in h||(h[b]={Ma:0,Ua:0});h=h[b];d in h||(h[d]={Ma:0,Ua:0},h.Ma++);var h=h[d],f=ia(a),m;h.Ua++;if(h[f]){m=h[f];for(var n=0;n<m.length;n++)if(h=m[n],h.Ga==c&&h.zb==e){if(h.za)break;m[n].Nb=!1;a=m[n];break a}}else m=h[f]=[],h.Ma++;n=Kc();h=new nc(c,n,a,b,d,e);h.Nb=!1;n.src=a;n.Ga=h;m.push(h);Hc[f]||(Hc[f]=[]);Hc[f].push(h);
a.addEventListener?a.addEventListener(b,n,d):a.attachEvent(b in Ic?Ic[b]:Ic[b]="on"+b,n);a=Fc[h.key]=h}return a}function Kc(){var a=Lc,b=pc?function(c){return a.call(b.src,b.Ga,c)}:function(c){c=a.call(b.src,b.Ga,c);if(!c)return c};return b}function J(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)J(a,b[f],c,d,e);else if(c=Jc(c),lc(a))a.ka(b,c,d,e);else if(d=!!d,a=Mc(a,b,d))for(f=0;f<a.length;f++)if(a[f].Ga==c&&a[f].capture==d&&a[f].zb==e){Nc(a[f]);break}}
function Nc(a){if(fa(a)||!a||a.za)return!1;var b=a.src;if(lc(b))return Oc(b,a);var c=a.type,d=a.wf,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in Ic?Ic[c]:Ic[c]="on"+c,d);b=ia(b);Hc[b]&&(d=Hc[b],Ca(d,a),0==d.length&&delete Hc[b]);a.za=!0;a.Ga=null;a.wf=null;a.src=null;a.zb=null;if(d=Gc[c][e][b])d.pf=!0,Pc(c,e,b,d);delete Fc[a.key];return!0}
function Pc(a,b,c,d){if(!d.ad&&d.pf){for(var e=0,f=0;e<d.length;e++)d[e].za||(e!=f&&(d[f]=d[e]),f++);d.length=f;d.pf=!1;0==f&&(delete Gc[a][b][c],Gc[a][b].Ma--,0==Gc[a][b].Ma&&(delete Gc[a][b],Gc[a].Ma--),0==Gc[a].Ma&&delete Gc[a])}}function Qc(a){var b=0;if(null!=a)if(a&&lc(a))Rc(a,void 0);else{if(a=ia(a),Hc[a]){a=Hc[a];for(var c=a.length-1;0<=c;c--)Nc(a[c]),b++}}else Ma(Fc,function(a){Nc(a);b++})}function Mc(a,b,c){var d=Gc;return b in d&&(d=d[b],c in d&&(d=d[c],a=ia(a),d[a]))?d[a]:null}
function Sc(a,b,c,d,e){var f=1;b=ia(b);if(a[b]){var h=--a.Ua,m=a[b];m.ad?m.ad++:m.ad=1;try{for(var n=m.length,E=0;E<n;E++){var q=m[E];q&&!q.za&&(f&=!1!==Tc(q,e))}}finally{a.Ua=Math.max(h,a.Ua),m.ad--,Pc(c,d,b,m)}}return Boolean(f)}function Tc(a,b){var c=a.Ga,d=a.zb||a.src;a.Nb&&Nc(a);return c.call(d,b)}
function Lc(a,b){if(a.za)return!0;var c=a.type,d=Gc;if(!(c in d))return!0;var d=d[c],e,f;if(!pc){var h;if(!(h=b))a:{h=["window","event"];for(var m=r;e=h.shift();)if(null!=m[e])m=m[e];else{h=null;break a}h=m}e=h;h=!0 in d;m=!1 in d;if(h){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(E){n=!0}if(n||void 0==e.returnValue)e.returnValue=!0}}n=new Cc;n.Sa(e,this);e=!0;try{if(h){for(var q=[],v=n.currentTarget;v;v=v.parentNode)q.push(v);f=d[!0];f.Ua=
f.Ma;for(var G=q.length-1;!n.lb&&0<=G&&f.Ua;G--)n.currentTarget=q[G],e&=Sc(f,q[G],c,!0,n);if(m)for(f=d[!1],f.Ua=f.Ma,G=0;!n.lb&&G<q.length&&f.Ua;G++)n.currentTarget=q[G],e&=Sc(f,q[G],c,!1,n)}else e=Tc(a,n)}finally{q&&(q.length=0)}return e}c=new Cc(b,this);return e=Tc(a,c)}var Uc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Jc(a){return ga(a)?a:a[Uc]||(a[Uc]=function(b){return a.handleEvent(b)})};function Vc(a){tc.call(this);this.Ra=a;this.Zc={}}w(Vc,tc);var Wc=[];Vc.prototype.s=function(a,b,c,d,e){da(b)||(Wc[0]=b,b=Wc);for(var f=0;f<b.length;f++){var h=I(a,b[f],c||this,d||!1,e||this.Ra||this);if(!h)break;this.Zc[h.key]=h}return this};
Vc.prototype.ka=function(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)this.ka(a,b[f],c,d,e);else{a:if(e=e||this.Ra||this,d=!!d,c=Jc(c||this),lc(a))a=a.wa[b],b=-1,a&&(b=Xc(a,c,d,e)),e=-1<b?a[b]:null;else{if(a=Mc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].za&&a[b].Ga==c&&a[b].capture==d&&a[b].zb==e){e=a[b];break a}e=null}e&&(Nc(e),delete this.Zc[e.key])}return this};function Yc(a){Ma(a.Zc,Nc);a.Zc={}}Vc.prototype.g=function(){Vc.f.g.call(this);Yc(this)};
Vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Zc(){}Zc.Oe=function(){return Zc.We?Zc.We:Zc.We=new Zc};Zc.prototype.Tg=0;Zc.Oe();function K(){tc.call(this);this.wa={};this.ag=this}w(K,tc);K.prototype[kc]=!0;p=K.prototype;p.hd=null;p.ae=aa("hd");p.addEventListener=function(a,b,c,d){I(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){J(this,a,b,c,d)};
p.dispatchEvent=function(a){var b,c=this.hd;if(c)for(b=[];c;c=c.hd)b.push(c);var c=this.ag,d=a.type||a;if(t(a))a=new H(a,c);else if(a instanceof H)a.target=a.target||c;else{var e=a;a=new H(d,c);Sa(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.lb&&0<=h;h--)f=a.currentTarget=b[h],e=$c(f,d,!0,a)&&e;a.lb||(f=a.currentTarget=c,e=$c(f,d,!0,a)&&e,a.lb||(e=$c(f,d,!1,a)&&e));if(b)for(h=0;!a.lb&&h<b.length;h++)f=a.currentTarget=b[h],e=$c(f,d,!1,a)&&e;return e};
p.g=function(){K.f.g.call(this);Rc(this);this.hd=null};p.s=function(a,b,c,d){var e=this.wa[a]||(this.wa[a]=[]),f=Xc(e,b,c,d);-1<f?(a=e[f],a.Nb=!1):(a=new nc(b,null,this,a,!!c,d),a.Nb=!1,e.push(a));return a};p.ka=function(a,b,c,d){if(!(a in this.wa))return!1;a=this.wa[a];b=Xc(a,b,c,d);return-1<b?(c=a[b],delete Fc[c.key],c.za=!0,1==ya.splice.call(a,b,1).length):!1};function Oc(a,b){var c=b.type;if(!(c in a.wa))return!1;if(c=Ca(a.wa[c],b))delete Fc[b.key],b.za=!0;return c}
function Rc(a,b){var c=0,d;for(d in a.wa)if(!b||d==b){for(var e=a.wa[d],f=0;f<e.length;f++)++c,delete Fc[e[f].key],e[f].za=!0;e.length=0}}function $c(a,b,c,d){if(!(b in a.wa))return!0;var e=!0;b=Da(a.wa[b]);for(var f=0;f<b.length;++f){var h=b[f];if(h&&!h.za&&h.capture==c){var m=h.Ga,n=h.zb||h.src;h.Nb&&Oc(a,h);e=!1!==m.call(n,d)&&e}}return e&&!1!=d.xf}function Xc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.Ga==b&&f.capture==!!c&&f.zb==d)return e}return-1};function ad(a){K.call(this);this.M=a||D();this.Ia=bd}w(ad,K);ad.prototype.Dg=Zc.Oe();var bd=null;p=ad.prototype;p.pa=null;p.Bb=!1;p.c=null;p.Ia=null;p.Og=null;p.v=null;p.Kc=null;p.fb=null;p.Rf=!1;p.a=k("c");p.Qa=function(){return this.Vb||(this.Vb=new Vc(this))};
p.$d=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.v&&this.pa&&this.v.fb&&this.pa&&(this.pa in this.v.fb&&this.v.fb[this.pa])&&this.v!=a)throw Error("Unable to set parent component");this.v=a;ad.f.ae.call(this,a)};p.ae=function(a){if(this.v&&this.v!=a)throw Error("Method not supported");ad.f.ae.call(this,a)};p.oc=k("M");p.K=function(){this.c=this.M.createElement("div")};
function cd(a,b){if(a.Bb)throw Error("Component already rendered");if(b){a.Rf=!0;var c=wb(b);a.M&&a.M.L==c||(a.M=D(b));a.Sb(b);a.Ub()}else throw Error("Invalid element to decorate");}p.Sb=aa("c");p.Ub=function(){this.Bb=!0;dd(this,function(a){!a.Bb&&a.a()&&a.Ub()})};p.wb=function(){dd(this,function(a){a.Bb&&a.wb()});this.Vb&&Yc(this.Vb);this.Bb=!1};
p.g=function(){this.Bb&&this.wb();this.Vb&&(this.Vb.D(),delete this.Vb);dd(this,function(a){a.D()});!this.Rf&&this.c&&Fb(this.c);this.v=this.Og=this.c=this.fb=this.Kc=null;ad.f.g.call(this)};p.yb=k("c");p.Eb=function(){null==this.Ia&&(this.Ia=ec(this.Bb?this.c:this.M.L.body));return this.Ia};function dd(a,b){a.Kc&&Aa(a.Kc,b,void 0)}
p.removeChild=function(a,b){if(a){var c=t(a)?a:a.pa||(a.pa=":"+(a.Dg.Tg++).toString(36));a=this.fb&&c?(c in this.fb?this.fb[c]:void 0)||null:null;if(c&&a){var d=this.fb;c in d&&delete d[c];Ca(this.Kc,a);b&&(a.wb(),a.c&&Fb(a.c));a.$d(null)}}if(!a)throw Error("Child is not in parent component");return a};var ed;function fd(a){var b=a.offsetLeft,c=a.offsetParent;c||"fixed"!=Ub(a,"position")||(c=wb(a).documentElement);if(!c)return b;if(z)var d=jc(c),b=b+d.left;else y&&8<=ob&&(d=jc(c),b-=d.left);return ec(c)?c.clientWidth-(b+a.offsetWidth):b};function gd(a,b,c){K.call(this);this.target=a;this.handle=b||a;this.$e=c||new Qb(NaN,NaN,NaN,NaN);this.L=wb(a);this.R=new Vc(this);xc(this,oa(yc,this.R));I(this.handle,["touchstart","mousedown"],this.Hb,!1,this)}w(gd,K);var hd=y||z&&B("1.9.3");p=gd.prototype;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.Hf=0;p.If=0;p.sb=0;p.gb=0;p.Da=!0;p.ub=!1;p.Te=0;p.Pg=0;p.Eg=!1;p.Ib=!1;p.ib=aa("Ib");p.Qa=k("R");p.Ef=aa("kd");p.Xd=aa("Da");
p.g=function(){gd.f.g.call(this);J(this.handle,["touchstart","mousedown"],this.Hb,!1,this);Yc(this.R);hd&&this.L.releaseCapture();this.handle=this.target=null};function kd(a){s(a.Ia)||(a.Ia=ec(a.target));return a.Ia}
p.Hb=function(a){var b="mousedown"==a.type;if(!this.Da||this.ub||b&&(!Ec(a)||A&&Xa&&a.ctrlKey))this.dispatchEvent("earlycancel");else{ld(a);if(0==this.Te)if(this.dispatchEvent(new md("start",this,a.clientX,a.clientY,a)))this.ub=!0,a.preventDefault();else return;else a.preventDefault();var b=this.L,c=b.documentElement,d=!hd;this.R.s(b,["touchmove","mousemove"],this.zg,d);this.R.s(b,["touchend","mouseup"],this.vb,d);hd?(c.setCapture(!1),this.R.s(c,"losecapture",this.vb)):this.R.s(b?b.parentWindow||
b.defaultView:window,"blur",this.vb);y&&this.Eg&&this.R.s(b,"dragstart",Ac);this.kd&&this.R.s(this.kd,"scroll",this.sf,d);this.clientX=this.Hf=a.clientX;this.clientY=this.If=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.sb=this.Ib?fd(this.target):this.target.offsetLeft;this.gb=this.target.offsetTop;this.Rd=Ob(D(this.L));this.Pg=pa()}};
p.vb=function(a,b){Yc(this.R);hd&&this.L.releaseCapture();if(this.ub){ld(a);this.ub=!1;var c=nd(this,this.sb),d=od(this,this.gb);this.dispatchEvent(new md("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function ld(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.Sa(a.W.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.Sa(a.W.changedTouches[0],a.currentTarget)}
p.zg=function(a){if(this.Da){ld(a);var b=(this.Ib&&kd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.ub){var d=this.Hf-this.clientX,e=this.If-this.clientY;if(d*d+e*e>this.Te)if(this.dispatchEvent(new md("start",this,a.clientX,a.clientY,a)))this.ub=!0;else{this.kc||this.vb(a);return}}c=pd(this,b,c);b=c.x;c=c.y;this.ub&&this.dispatchEvent(new md("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(qd(this,a,b,c),a.preventDefault())}};function pd(a,b,c){var d=Ob(D(a.L));b+=d.x-a.Rd.x;c+=d.y-a.Rd.y;a.Rd=d;a.sb+=b;a.gb+=c;b=nd(a,a.sb);a=od(a,a.gb);return new C(b,a)}p.sf=function(a){var b=pd(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;qd(this,a,b.x,b.y)};function qd(a,b,c,d){a.yd(c,d);a.dispatchEvent(new md("drag",a,b.clientX,b.clientY,b,c,d))}
function nd(a,b){var c=a.$e,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function od(a,b){var c=a.$e,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}p.yd=function(a,b){this.Ib&&kd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function md(a,b,c,d,e,f,h,m){H.call(this,a);this.clientX=c;this.clientY=d;this.Kh=e;this.left=s(f)?f:b.sb;this.top=s(h)?h:b.gb;this.Ad=b;this.qg=!!m}w(md,H);function rd(a,b,c,d,e){if(!(y||A&&B("525")))return!0;if(Xa&&e)return sd(a);if(e&&!d||!c&&(17==b||18==b||Xa&&91==b))return!1;if(A&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(y&&d&&b==a)return!1;switch(a){case 13:return!(y&&y&&9<=ob);case 27:return!A}return sd(a)}
function sd(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||A&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function td(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function ud(a,b){K.call(this);this.Xb=a||1;this.fc=b||r;this.wd=na(this.gh,this);this.Kd=pa()}w(ud,K);p=ud.prototype;p.enabled=!1;p.Ka=null;p.gh=function(){if(this.enabled){var a=pa()-this.Kd;0<a&&a<0.8*this.Xb?this.Ka=this.fc.setTimeout(this.wd,this.Xb-a):(this.Ka&&(this.fc.clearTimeout(this.Ka),this.Ka=null),this.dispatchEvent(vd),this.enabled&&(this.Ka=this.fc.setTimeout(this.wd,this.Xb),this.Kd=pa()))}};
p.start=function(){this.enabled=!0;this.Ka||(this.Ka=this.fc.setTimeout(this.wd,this.Xb),this.Kd=pa())};p.stop=function(){this.enabled=!1;this.Ka&&(this.fc.clearTimeout(this.Ka),this.Ka=null)};p.g=function(){ud.f.g.call(this);this.stop();delete this.fc};var vd="tick";function wd(a,b,c){tc.call(this);this.Md=a;this.Xb=b||0;this.Ra=c;this.lg=na(this.og,this)}w(wd,tc);p=wd.prototype;p.pa=0;p.g=function(){wd.f.g.call(this);this.stop();delete this.Md;delete this.Ra};p.start=function(a){this.stop();var b=this.lg;a=s(a)?a:this.Xb;if(!ga(b))if(b&&"function"==typeof b.handleEvent)b=na(b.handleEvent,b);else throw Error("Invalid listener argument");this.pa=2147483647<a?-1:r.setTimeout(b,a||0)};p.stop=function(){this.Db()&&r.clearTimeout(this.pa);this.pa=0};
p.Db=function(){return 0!=this.pa};p.og=function(){this.pa=0;this.Md&&this.Md.call(this.Ra)};var xd={},yd=null;function zd(a){a=ia(a);delete xd[a];Qa(xd)&&yd&&yd.stop()}function Ad(){yd||(yd=new wd(function(){Bd()},20));var a=yd;a.Db()||a.start()}function Bd(){var a=pa();Ma(xd,function(b){Cd(b,a)});Qa(xd)||Ad()};function Dd(){K.call(this);this.F=Ed;this.mc=this.startTime=null}w(Dd,K);var Ed=0;Dd.prototype.ed=function(){this.ba("begin")};Dd.prototype.bc=function(){this.ba("end")};Dd.prototype.ba=function(a){this.dispatchEvent(a)};function Fd(a,b,c,d){Dd.call(this);if(!da(a)||!da(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Ac=a;this.tg=b;this.duration=c;this.se=d;this.coords=[];this.Ib=!1}w(Fd,Dd);p=Fd.prototype;p.ib=aa("Ib");p.Ne=0;p.sa=0;p.Jd=null;
p.play=function(a){if(a||this.F==Ed)this.sa=0,this.coords=this.Ac;else if(1==this.F)return!1;zd(this);this.startTime=a=pa();-1==this.F&&(this.startTime-=this.duration*this.sa);this.mc=this.startTime+this.duration;this.Jd=this.startTime;this.sa||this.ed();this.ba("play");-1==this.F&&this.ba("resume");this.F=1;var b=ia(this);b in xd||(xd[b]=this);Ad();Cd(this,a);return!0};p.stop=function(a){zd(this);this.F=Ed;a&&(this.sa=1);Gd(this,this.sa);this.ba("stop");this.bc()};
p.g=function(){this.F==Ed||this.stop(!1);this.ba("destroy");Fd.f.g.call(this)};p.zd=function(){this.D()};function Cd(a,b){a.sa=(b-a.startTime)/(a.mc-a.startTime);1<=a.sa&&(a.sa=1);a.Ne=1E3/(b-a.Jd);a.Jd=b;Gd(a,a.sa);1==a.sa?(a.F=Ed,zd(a),a.ba("finish"),a.bc()):1==a.F&&a.Qd()}function Gd(a,b){ga(a.se)&&(b=a.se(b));a.coords=Array(a.Ac.length);for(var c=0;c<a.Ac.length;c++)a.coords[c]=(a.tg[c]-a.Ac[c])*b+a.Ac[c]}p.Qd=function(){this.ba("animate")};p.ba=function(a){this.dispatchEvent(new Hd(a,this))};
function Hd(a,b){H.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.sa=b.sa;this.$h=b.Ne;this.state=b.F;this.Fh=b}w(Hd,H);function L(a,b,c,d,e){Fd.call(this,b,c,d,e);this.element=a}w(L,Fd);p=L.prototype;p.ob=ba;p.Eb=function(){s(this.Ia)||(this.Ia=ec(this.element));return this.Ia};p.Qd=function(){this.ob();L.f.Qd.call(this)};p.bc=function(){this.ob();L.f.bc.call(this)};p.ed=function(){this.ob();L.f.ed.call(this)};function Id(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");L.apply(this,arguments)}w(Id,L);
Id.prototype.ob=function(){var a=this.Ib&&this.Eb()?"right":"left";this.element.style[a]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function Jd(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");L.apply(this,arguments)}w(Jd,L);Jd.prototype.ob=function(){this.element.style.width=Math.round(this.coords[0])+"px";this.element.style.height=Math.round(this.coords[1])+"px"};function Kd(a,b,c,d,e){L.call(this,a,[b],[c],d,e)}
w(Kd,L);Kd.prototype.ob=function(){this.element.style.width=Math.round(this.coords[0])+"px"};function Ld(a,b,c,d,e){L.call(this,a,[b],[c],d,e)}w(Ld,L);Ld.prototype.ob=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function Md(a,b,c,d,e){fa(b)&&(b=[b]);fa(c)&&(c=[c]);L.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}w(Md,L);
Md.prototype.ob=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};Md.prototype.show=function(){this.element.style.display=""};Md.prototype.hide=function(){this.element.style.display="none"};function Nd(a,b){K.call(this);a&&(this.Yc&&this.detach(),this.c=a,this.Xc=I(this.c,"keypress",this,b),this.Id=I(this.c,"keydown",this.Rc,b,this),this.Yc=I(this.c,"keyup",this.yg,b,this))}w(Nd,K);p=Nd.prototype;p.c=null;p.Xc=null;p.Id=null;p.Yc=null;p.ha=-1;p.kb=-1;p.ud=!1;
var Od={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Pd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Qd=y||A&&B("525"),Rd=Xa&&z;p=Nd.prototype;
p.Rc=function(a){A&&(17==this.ha&&!a.ctrlKey||18==this.ha&&!a.altKey||Xa&&91==this.ha&&!a.metaKey)&&(this.kb=this.ha=-1);-1==this.ha&&(a.ctrlKey&&17!=a.keyCode?this.ha=17:a.altKey&&18!=a.keyCode?this.ha=18:a.metaKey&&91!=a.keyCode&&(this.ha=91));Qd&&!rd(a.keyCode,this.ha,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.kb=z?td(a.keyCode):a.keyCode,Rd&&(this.ud=a.altKey))};p.yg=function(a){this.kb=this.ha=-1;this.ud=a.altKey};
p.handleEvent=function(a){var b=a.W,c,d,e=b.altKey;y&&"keypress"==a.type?(c=this.kb,d=13!=c&&27!=c?b.keyCode:0):A&&"keypress"==a.type?(c=this.kb,d=0<=b.charCode&&63232>b.charCode&&sd(c)?b.charCode:0):bb?(c=this.kb,d=sd(c)?b.keyCode:0):(c=b.keyCode||this.kb,d=b.charCode||0,Rd&&(e=this.ud),Xa&&(63==d&&224==c)&&(c=191));var f=c,h=b.keyIdentifier;c?63232<=c&&c in Od?f=Od[c]:25==c&&a.shiftKey&&(f=9):h&&h in Pd&&(f=Pd[h]);a=f==this.ha;this.ha=f;b=new Sd(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};p.a=k("c");
p.detach=function(){this.Xc&&(Nc(this.Xc),Nc(this.Id),Nc(this.Yc),this.Yc=this.Id=this.Xc=null);this.c=null;this.kb=this.ha=-1};p.g=function(){Nd.f.g.call(this);this.detach()};function Sd(a,b,c,d){d&&this.Sa(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(Sd,Cc);function Td(){Dd.call(this);this.mb=[]}w(Td,Dd);Td.prototype.add=function(a){0<=za(this.mb,a)||(this.mb.push(a),I(a,"finish",this.Wg,!1,this))};Td.prototype.g=function(){Aa(this.mb,function(a){a.D()});this.mb.length=0;Td.f.g.call(this)};function Ud(){Td.call(this);this.Ed=0}w(Ud,Td);
Ud.prototype.play=function(a){if(0==this.mb.length)return!1;if(a||this.F==Ed)this.Ed=0,this.ed();else if(1==this.F)return!1;this.ba("play");-1==this.F&&this.ba("resume");var b=-1==this.F&&!a;this.startTime=pa();this.mc=null;this.F=1;Aa(this.mb,function(c){b&&-1!=c.F||c.play(a)});return!0};Ud.prototype.stop=function(a){Aa(this.mb,function(b){b.F==Ed||b.stop(a)});this.F=Ed;this.mc=pa();this.ba("stop");this.bc()};
Ud.prototype.Wg=function(){this.Ed++;this.Ed==this.mb.length&&(this.mc=pa(),this.F=Ed,this.ba("finish"),this.bc())};function Vd(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function Wd(a,b,c){ea(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(ed||(ed={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=ed,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Xd(a,b){K.call(this);this.c=a;var c=ha(this.c)&&1==this.c.nodeType?this.c:this.c?this.c.body:null;this.Gg=!!c&&ec(c);this.bf=I(this.c,z?"DOMMouseScroll":"mousewheel",this,b)}w(Xd,K);
Xd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.W;if("mousewheel"==a.type){c=1;if(y||A&&(Ya||B("532.0")))c=40;d=Yd(-a.wheelDelta,c);s(a.wheelDeltaX)?(b=Yd(-a.wheelDeltaX,c),c=Yd(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),s(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.gf)&&(b=ub(b,-this.gf,this.gf));fa(this.hf)&&(c=ub(c,-this.hf,this.hf));this.Gg&&(b=-b);b=new Zd(d,a,b,c);this.dispatchEvent(b)};function Yd(a,b){return A&&(Xa||eb)&&0!=a%b?a:a/b}
Xd.prototype.g=function(){Xd.f.g.call(this);Nc(this.bf);this.bf=null};function Zd(a,b,c,d){b&&this.Sa(b,void 0);this.type="mousewheel";this.detail=a;this.sb=c;this.gb=d}w(Zd,Cc);function $d(){K.call(this)}w($d,K);p=$d.prototype;p.Jb=0;p.ya=0;p.qa=100;p.Y=0;p.Va=1;p.Z=!1;p.Gb=!1;$d.prototype.setValue=function(a){a=ae(this,a);this.Jb!=a&&(this.Jb=a+this.Y>this.qa?this.qa-this.Y:a<this.ya?this.ya:a,this.Z||this.Gb||this.dispatchEvent("change"))};$d.prototype.getValue=function(){return ae(this,this.Jb)};p=$d.prototype;p.yc=function(a){a=ae(this,a);this.Y!=a&&(this.Y=0>a?0:this.Jb+a>this.qa?this.qa-this.Jb:a,this.Z||this.Gb||this.dispatchEvent("change"))};
p.Pa=function(){return null==this.Va?this.Y:Math.round(this.Y/this.Va)*this.Va};p.dc=function(a){if(this.ya!=a){var b=this.Z;this.Z=!0;this.ya=a;a+this.Y>this.qa&&(this.Y=this.qa-this.ya);a>this.Jb&&this.setValue(a);a>this.qa&&(this.Y=0,this.nb(a),this.setValue(a));(this.Z=b)||this.Gb||this.dispatchEvent("change")}};p.r=function(){return ae(this,this.ya)};
p.nb=function(a){a=ae(this,a);if(this.qa!=a){var b=this.Z;this.Z=!0;this.qa=a;a<this.Jb+this.Y&&this.setValue(a-this.Y);a<this.ya&&(this.Y=0,this.dc(a),this.setValue(this.qa));a<this.ya+this.Y&&(this.Y=this.qa-this.ya);(this.Z=b)||this.Gb||this.dispatchEvent("change")}};p.p=function(){return ae(this,this.qa)};p.pc=k("Va");p.zc=function(a){this.Va!=a&&(this.Va=a,a=this.Z,this.Z=!0,this.nb(this.p()),this.yc(this.Pa()),this.setValue(this.getValue()),(this.Z=a)||this.Gb||this.dispatchEvent("change"))};
function ae(a,b){return null==a.Va?b:a.ya+Math.round((b-a.ya)/a.Va)*a.Va};function M(a){ad.call(this,a);this.Ce=null;this.n=new $d;I(this.n,"change",this.Re,!1,this)}w(M,ad);p=M.prototype;p.w="horizontal";p.Uc=!1;p.Sg=!1;p.Ca=10;p.bd=0;p.Ye=!0;p.Da=!0;p.fa=!1;p.K=function(){M.f.K.call(this);var a=this.oc().K("div",be(this.w));this.Sb(a)};p.Sb=function(a){M.f.Sb.call(this,a);x(a,be(this.w));a=this.a();var b=yb(document,null,"goog-slider-thumb",a)[0];b||(b=this.Mc(),a.appendChild(b));this.l=this.X=b;Vd(this.a(),"slider");ce(this)};
p.Ub=function(){M.f.Ub.call(this);this.la=new gd(this.l);this.Ea=new gd(this.X);this.la.ib(this.fa);this.Ea.ib(this.fa);this.la.yd=this.Ea.yd=ba;this.Yb=new Nd(this.a());de(this,!0);this.a().tabIndex=0;this.Ya()};
function de(a,b){b?(a.Qa().s(a.la,"beforedrag",a.Qc).s(a.Ea,"beforedrag",a.Qc).s(a.la,["start","end"],a.Sc).s(a.Ea,["start","end"],a.Sc).s(a.Yb,"key",a.Rc).s(a.a(),"mousedown",a.Pe),a.Ye&&ee(a,!0)):(a.Qa().ka(a.la,"beforedrag",a.Qc).ka(a.Ea,"beforedrag",a.Qc).ka(a.la,["start","end"],a.Sc).ka(a.Ea,["start","end"],a.Sc).ka(a.Yb,"key",a.Rc).ka(a.a(),"mousedown",a.Pe),a.Ye&&ee(a,!1))}p.wb=function(){M.f.wb.call(this);zc(this.la,this.Ea,this.Yb,this.Fb)};
p.Qc=function(a){var b=a.Ad==this.la?this.l:this.X,c;"vertical"==this.w?(c=this.a().clientHeight-b.offsetHeight,c=(c-a.top)/c*(this.p()-this.r())+this.r()):c=a.left/(this.a().clientWidth-b.offsetWidth)*(this.p()-this.r())+this.r();c=a.Ad==this.la?Math.min(Math.max(c,this.r()),this.getValue()+this.Pa()):Math.min(Math.max(c,this.getValue()),this.p());fe(this,b,c)};
p.Sc=function(a){var b="start"==a.type;La(this.a(),"goog-slider-dragging",b);La(a.target.handle,"goog-slider-thumb-dragging",b);a=a.Ad==this.la;b?(this.dispatchEvent("e"),this.dispatchEvent(a?"a":"c")):(this.dispatchEvent("f"),this.dispatchEvent(a?"b":"d"))};
p.Rc=function(a){var b=!0;switch(a.keyCode){case 36:ge(this,this.r());break;case 35:ge(this,this.p());break;case 33:he(this,this.Ca);break;case 34:he(this,-this.Ca);break;case 37:var c=this.fa&&this.Eb()?1:-1;he(this,a.shiftKey?c*this.Ca:c*this.Dc);break;case 40:he(this,a.shiftKey?-this.Ca:-this.Dc);break;case 39:c=this.fa&&this.Eb()?-1:1;he(this,a.shiftKey?c*this.Ca:c*this.Dc);break;case 38:he(this,a.shiftKey?this.Ca:this.Dc);break;default:b=!1}b&&a.preventDefault()};
p.Pe=function(a){this.a().focus&&this.a().focus();var b=a.target;Ib(this.l,b)||Ib(this.X,b)||(this.Sg?ge(this,ie(this,a)):(this.fe(a),this.ta=je(this,ie(this,a)),this.Ue="vertical"==this.w?this.$c<this.ta.offsetTop:this.$c>ke(this,this.ta)+this.ta.offsetWidth,a=wb(this.a()),this.Qa().s(a,"mouseup",this.ee,!0).s(this.a(),"mousemove",this.fe),this.jb||(this.jb=new ud(200),this.Qa().s(this.jb,vd,this.Se)),this.Se(),this.jb.start()))};p.Qe=function(a){he(this,(0<a.detail?-1:1)*this.Dc);a.preventDefault()};
p.Se=function(){var a;if("vertical"==this.w){var b=this.$c,c=this.ta.offsetTop;this.Ue?b<c&&(a=le(this,this.ta)+this.Ca):b>c+this.ta.offsetHeight&&(a=le(this,this.ta)-this.Ca)}else b=this.$c,c=ke(this,this.ta),this.Ue?b>c+this.ta.offsetWidth&&(a=le(this,this.ta)+this.Ca):b<c&&(a=le(this,this.ta)-this.Ca);s(a)&&fe(this,this.ta,a)};p.ee=function(){this.jb&&this.jb.stop();var a=wb(this.a());this.Qa().ka(a,"mouseup",this.ee,!0).ka(this.a(),"mousemove",this.fe)};
function me(a,b){var c=Yb(b,a.a());return"vertical"==a.w?c.y:a.fa&&a.Eb()?a.a().clientWidth-c.x:c.x}p.fe=function(a){this.$c=me(this,a)};function ie(a,b){var c=a.r(),d=a.p();if("vertical"==a.w){var e=a.l.offsetHeight,f=a.a().clientHeight-e,e=me(a,b)-e/2;return(d-c)*(f-e)/f+c}e=a.l.offsetWidth;f=a.a().clientWidth-e;e=me(a,b)-e/2;return(d-c)*e/f+c}
function le(a,b){if(b==a.l)return a.n.getValue();if(b==a.X)return a.n.getValue()+a.n.Pa();throw Error("Illegal thumb element. Neither minThumb nor maxThumb");}function he(a,b){var c=le(a,a.l)+b,d=le(a,a.X)+b,c=ub(c,a.r(),a.p()-a.bd),d=ub(d,a.r()+a.bd,a.p());ne(a,c,d-c)}function fe(a,b,c){var d=ae(a.n,c);c=b==a.l?d:a.n.getValue();b=b==a.X?d:a.n.getValue()+a.n.Pa();c>=a.r()&&(b>=c+a.bd&&a.p()>=b)&&ne(a,c,b-c)}
function ne(a,b,c){a.r()<=b&&(b<=a.p()-c&&a.bd<=c&&c<=a.p()-b)&&(b!=a.getValue()||c!=a.Pa())&&(a.n.Gb=!0,a.n.yc(0),a.n.setValue(b),a.n.yc(c),a.n.Gb=!1,a.Re())}p.r=function(){return this.n.r()};p.dc=function(a){this.n.dc(a)};p.p=function(){return this.n.p()};p.nb=function(a){this.n.nb(a)};function je(a,b){return b<=a.n.getValue()+a.n.Pa()/2?a.l:a.X}p.Re=function(){this.Ya();ce(this);this.dispatchEvent("change")};
p.Ya=function(){if(this.l&&!this.Uc){var a=oe(this,le(this,this.l)),b=oe(this,le(this,this.X));if("vertical"==this.w)this.l.style.top=a.y+"px",this.X.style.top=b.y+"px",this.A&&(a=pe(b.y,a.y,this.l.offsetHeight),this.A.style.top=a.offset+"px",this.A.style.height=a.size+"px");else{var c=this.fa&&this.Eb()?"right":"left";this.l.style[c]=a.x+"px";this.X.style[c]=b.x+"px";this.A&&(a=pe(a.x,b.x,this.l.offsetWidth),this.A.style[c]=a.offset+"px",this.A.style.width=a.size+"px")}}};
function pe(a,b,c){var d=Math.ceil(c/2);return{offset:a+d,size:Math.max(b-a+c-2*d,0)}}function oe(a,b){var c=new C;if(a.l){var d=a.r(),e=a.p(),e=b==d&&d==e?0:(b-d)/(e-d);"vertical"==a.w?(d=a.a().clientHeight-a.l.offsetHeight,e=Math.round(e*d),c.x=ke(a,a.l),c.y=d-e):(d=Math.round(e*(a.a().clientWidth-a.l.offsetWidth)),c.x=d,c.y=a.l.offsetTop)}return c}
function ge(a,b){b=ub(b,a.r(),a.p());a.Uc&&a.Nc.stop(!0);var c=new Ud,d,e=je(a,b),f=a.getValue(),h=a.Pa(),m=le(a,e),n=oe(a,m);d=a.pc();Math.abs(b-m)<d&&(b=ub(m+(b>m?d:-d),a.r(),a.p()));fe(a,e,b);m=oe(a,le(a,e));d="vertical"==a.w?[ke(a,e),m.y]:[m.x,e.offsetTop];n=new Id(e,[n.x,n.y],d,100);n.ib(a.fa);c.add(n);a.A&&qe(a,e,f,h,m,c);a.Ce&&(e=a.Ce.Mh(f,b,100),Aa(e,function(a){c.add(a)}));a.Nc=c;a.Qa().s(c,"end",a.sg);a.Uc=!0;c.play(!1)}
function qe(a,b,c,d,e,f){var h=oe(a,c),m=oe(a,c+d);c=h;d=m;b==a.l?c=e:d=e;"vertical"==a.w?(b=pe(m.y,h.y,a.l.offsetHeight),h=pe(d.y,c.y,a.l.offsetHeight),e=new Id(a.A,[ke(a,a.A),b.offset],[ke(a,a.A),h.offset],100),b=new Ld(a.A,b.size,h.size,100)):(b=pe(h.x,m.x,a.l.offsetWidth),h=pe(c.x,d.x,a.l.offsetWidth),e=new Id(a.A,[b.offset,a.A.offsetTop],[h.offset,a.A.offsetTop],100),b=new Kd(a.A,b.size,h.size,100));e.ib(a.fa);b.ib(a.fa);f.add(e);f.add(b)}p.sg=function(){this.Uc=!1};
p.Df=function(a){if(this.w!=a){var b=be(this.w),c=be(a);this.w=a;this.a()&&(Ka(this.a(),b,c),a=this.fa&&this.Eb()?"right":"left",this.l.style[a]=this.l.style.top="",this.X.style[a]=this.X.style.top="",this.A&&(this.A.style[a]=this.A.style.top="",this.A.style.width=this.A.style.height=""),this.Ya())}};
p.g=function(){M.f.g.call(this);this.jb&&this.jb.D();delete this.jb;this.Nc&&this.Nc.D();delete this.Nc;delete this.l;delete this.X;this.A&&delete this.A;this.n.D();delete this.n;this.Yb&&(this.Yb.D(),delete this.Yb);this.Fb&&(this.Fb.D(),delete this.Fb);this.la&&(this.la.D(),delete this.la);this.Ea&&(this.Ea.D(),delete this.Ea)};p.Dc=1;p.pc=function(){return this.n.pc()};p.zc=function(a){this.n.zc(a)};M.prototype.getValue=function(){return this.n.getValue()};
M.prototype.setValue=function(a){fe(this,this.l,a)};M.prototype.Pa=function(){return this.n.Pa()};M.prototype.yc=function(a){fe(this,this.X,this.n.getValue()+a)};function ce(a){var b=a.a();b&&(Wd(b,"valuemin",a.r()),Wd(b,"valuemax",a.p()),Wd(b,"valuenow",a.getValue()))}function ee(a,b){b?(a.Fb||(a.Fb=new Xd(a.a())),a.Qa().s(a.Fb,"mousewheel",a.Qe)):a.Qa().ka(a.Fb,"mousewheel",a.Qe)}
M.prototype.Xd=function(a){this.Da!=a&&this.dispatchEvent(a?"enable":"disable")&&(this.Da=a,de(this,a),a||this.ee(),La(this.a(),"goog-slider-disabled",!a))};M.prototype.isEnabled=k("Da");function ke(a,b){return a.fa?fd(b):b.offsetLeft};function re(a){M.call(this,a);this.n.yc(0)}w(re,M);var se={Yf:"vertical",oh:"horizontal"};function be(a){return"vertical"==a?"goog-slider-vertical":"goog-slider-horizontal"}re.prototype.Mc=function(){var a=this.oc().K("div","goog-slider-thumb");Vd(a,"button");return a};function N(a){re.call(this);var b="object"===typeof a?a:{},c=this;this.id=(b.className?b.className:"GenericSlider")+"_"+te();this.getMin=function(){return this.r()};this.getMax=function(){return this.p()};b.orientation&&"vertical"==b.orientation.toLowerCase()?(this.Df(se.Yf),this.setValue(this.p()),this.zc(-1),b.widgetCSS=O({position:"absolute",width:10,height:"100%",left:0,top:0,backgroundColor:"rgb(255,255,255)"},b.widgetCSS),b.thumbCSS=O({position:"absolute",top:0,height:10,width:b.widgetCSS.width,
backgroundColor:"rgb(225, 225, 225)"},b.thumbCSS),b.trackCSS=O({position:"absolute",width:"40%",height:"100%",left:"30%",borderRadius:3,backgroundColor:"rgba(100,100,100,0)"},b.trackCSS)):(b.widgetCSS=O({position:"absolute",width:"100%",height:10,left:0,top:0,borderColor:"rgba(200,200,200,1)"},b.widgetCSS),b.thumbCSS=O({position:"absolute",height:b.widgetCSS.height,width:b.widgetCSS.height,backgroundColor:"rgb(225, 225, 225)",borderRadius:0},b.thumbCSS),b.trackCSS=O({position:"absolute",width:"100%",
height:"40%",top:"30%",borderRadius:3,backgroundColor:"rgba(100,100,100,0)"},b.trackCSS));this.Ec=P("div",b.parent,b.className,b.widgetCSS);this.ih=P("div",this.Ec,"SliderTrack",b.trackCSS);this.getTrack=k("ih");cd(c,this.Ec);Q(Gb(this.Ec),function(a){"goog-slider-thumb"===a.className&&(R(a,b.thumbCSS),c.getThumb=function(){return a})});this.enable=function(a){N.f.Xd.call(this,a)}}w(N,re);u("utils.gui.GenericSlider",N);N.prototype.getWidget=k("Ec");N.prototype.getValue=function(){return N.f.getValue.call(this)};
N.prototype.setValue=function(a){return N.f.setValue.call(this,a)};N.prototype.bindToMouseWheel=function(a){var b=this;(new Xd(a)).addEventListener("mousewheel",function(a){b.setValue(Math.round(b.getValue()+a.gb/3));a.preventDefault()})};N.prototype.addSlideCallback=function(a,b){var c=this;N.f.addEventListener.call(this,"change",function(d){d.stopPropagation();ue(d);a(c,b,d)})};function S(){}u("XVGlobals",S);S=new S;S.Uf="XNATModal";S.$f="Viewer";S.ji="rgba(55,55,55,1)";S.ki="rgba(55,55,55,1)";S.Ch="rgba(255,255,255,1)";S.Dh="rgba(205,205,205,1)";S.zi="rgba(85,85,85,1)";S.Ud="rgba(85,85,85,1)";S.Me=10;S.xb=12;S.Zh=14;S.fontFamily="Helvetica, Helvetica neue, Arial, sans-serif";S.Hh=100;S.h=200;S.hc=500;S.eg=1E3;S.Lg=200;S.qi=150;S.sd=0.85;S.Mg=320;S.ui=S.Mg*S.sd;S.gc=20;S.Zf=20;S.qe=72;S.Wf=72;S.Hc=8;S.Vf=8;S.re=S.qe+2*S.Hc;S.Xf=200;S.J=30;S.rd=180;S.Bf=15;S.Td=50;S.xa=S.Bf;
S.Qh=S.xa;S.pi=0.9;S.jf=0.95;S.Di=300;S.si=80;S.Sf=10;S.od=4;S.Kg=function(a){return a-S.od-S.xa};S.le="rgb(35,35,35)";S.pg=new Image;S.pg.src="./icons/DragAndDrop-3pt.png";
S.q={Ah:"XVWidget",Tf:"Modal",T:"ContentDivider",Fc:"Thumbnail",me:"ScanThumbnail",th:"SlicerThumbnail",Aa:"Viewer",ne:"ScanViewer",uh:"SlicerViewer",m:"FrameHolder",pd:"FrameHolderCanvas",ScrollGallery:"XVWidget_ScrollGallery",I:"ThumbnailCanvas",G:"FrameSlider",oe:"ZippyHeader",yh:"ViewerTabs",Za:"ScanTabs",wh:"ViewerDivider",vh:"ThumbnailDragDropTarget",xh:"ViewerDragDropTarget"};function ve(a){N.call(this,a);var b=this;this.Jg=function(a){if(b.uc)for(var d=0,e=b.uc.length;d<e;d++){if(a===b.uc[d])return}else b.uc=[];b.uc.push(a);b.dg(function(b){var d=b.p()-b.r(),e=a.p()-a.r();b=Math.round(e*(b.getValue()/d));a.setValue(b)})};this.He=function(){b.Zb=[];b.uc=[]};this.dg=function(a){b.Zb||(b.Zb=[]);b.Zb.push(a)};this.addSlideCallback(function(){b.Zb&&0<b.Zb.length&&Q(b.Zb,function(a){a(b)})})}w(ve,N);u("FrameSlider",ve);ve.prototype.updateCSS=function(a){R(this.Ec,a)};function T(a){this.d=a?O(this.u,a):this.u;this.ma=this.d.ma?this.d.ma:this.d.k;this.widget=P("div",this.d.parent,this.d.className,this.ma);this.getWidget=k("widget");this.bi=k("u")}u("XVWidget",T);function we(){K.call(this);this.tc=[];this.he=[];this.xc=[]}w(we,K);p=we.prototype;p.Vc=!1;p.Wc=!1;p.Ve=!1;p.Ef=aa("kd");p.Sa=function(){if(!this.Ve){for(var a,b=0;a=this.tc[b];b++)this.Vc&&(I(a.element,"mousedown",a.lf,!1,a),this.ce&&x(a.element,this.ce)),this.Wc&&this.ge&&x(a.element,this.ge);this.Ve=!0}};
p.Hb=function(a,b){if(!this.oa)if(this.oa=b,!1==this.dispatchEvent(new xe("dragstart",this,this.oa)))this.oa=null;else{var c=b.Rb;this.tb=this.Pb(c);var d=wb(c);d.body.appendChild(this.tb);var e=this.tb,f=Xb(c),h;if(y){h=gc(c,"marginLeft");var m=gc(c,"marginRight"),n=gc(c,"marginTop"),c=gc(c,"marginBottom");h=new Pb(n,m,c,h)}else h=Tb(c,"marginLeft"),m=Tb(c,"marginRight"),n=Tb(c,"marginTop"),c=Tb(c,"marginBottom"),h=new Pb(parseFloat(n),parseFloat(m),parseFloat(c),parseFloat(h));f.x-=2*(h.left||0);
f.y-=2*(h.top||0);e.style.position="absolute";e.style.left=f.x+"px";e.style.top=f.y+"px";this.Na=new gd(e);this.Na.Ef(this.kd);I(this.Na,"drag",this.of,!1,this);I(this.Na,"end",this.vb,!1,this);I(d.body,"selectstart",this.Kf);this.ec=[];for(e=0;d=this.he[e];e++)for(f=0;m=d.tc[f];f++){h=d;for(var n=[m.element],c=this.ec,E=0;E<n.length;E++){var q=n[E],v=Xb(q),G=ac(q),v=new Pb(v.y,v.x+G.width,v.y+G.height,v.x);c.push(new ye(v,h,m,q));ze(this,v)}}this.Wa||(this.Wa=new Pb(0,0,0,0));for(e=0;d=this.xc[e];e++)d.xd=
[],d.yf=d.c.scrollLeft,d.zf=d.c.scrollTop,f=Xb(d.c),h=ac(d.c),d.C=new Pb(f.y,f.x+h.width,f.y+h.height,f.x);for(e=0;h=this.ec[e];e++)for(f=0;d=this.xc[f];f++)Ib(d.c,h.c)&&(d.xd.push(h),h.wc=d);this.pb=null;for(e=0;d=this.xc[e];e++)I(d.c,"scroll",this.Ie,!1,this);this.Na.Hb(a);a.preventDefault()}};
p.vb=function(a){var b=a.qg?null:this.pb;if(b&&b.ia){var c=a.clientX;a=a.clientY;var d=Ob(D(this.tb)),e=c+d.x,d=a+d.y,f;this.Bc&&(f=this.Bc(b.Ta,b.C,e,d));this.dispatchEvent(new xe("drag",this,this.oa,b.ia,b.Ta,b.c,c,a,e,d));b.ia.dispatchEvent(new xe("drop",this,this.oa,b.ia,b.Ta,b.c,c,a,e,d,f))}this.dispatchEvent(new xe("dragend",this,this.oa));J(this.Na,"drag",this.of,!1,this);J(this.Na,"end",this.vb,!1,this);J(wb(this.oa.Rb).body,"selectstart",this.Kf);for(b=0;c=this.xc[b];b++)J(c.c,"scroll",this.Ie,
!1,this),c.xd=[];this.Na.D();Fb(this.tb);delete this.oa;delete this.tb;delete this.Na;delete this.ec;delete this.pb};
p.of=function(a){var b,c=Ob(D(this.tb));b=new C(a.clientX+c.x,a.clientY+c.y);var c=b.x,d=b.y,e=this.pb,f;if(e){this.Bc&&e.ia&&(f=this.Bc(e.Ta,e.C,c,d));if(e.C.contains(b)&&f==this.ue)return;e.ia&&(this.dispatchEvent(new xe("dragout",this,this.oa,e.ia,e.Ta,e.c)),e.ia.dispatchEvent(new xe("dragout",this,this.oa,e.ia,e.Ta,e.c,void 0,void 0,void 0,void 0,this.ue)));this.ue=f;this.pb=null}if(this.Wa.contains(b)){a:{for(var h=0;e=this.ec[h];h++)if(e.C.contains(b))if(e.wc){if(e.wc.C.contains(b)){b=e;break a}}else{b=
e;break a}b=null}if((e=this.pb=b)&&e.ia)this.Bc&&(f=this.Bc(e.Ta,e.C,c,d)),c=new xe("dragover",this,this.oa,e.ia,e.Ta,e.c),c.bh=f,this.dispatchEvent(c),e.ia.dispatchEvent(new xe("dragover",this,this.oa,e.ia,e.Ta,e.c,a.clientX,a.clientY,void 0,void 0,f));else if(!e){this.ea||(this.ea=new ye(this.Wa.Lc()));a=this.ea.C;a.top=this.Wa.top;a.right=this.Wa.right;a.bottom=this.Wa.bottom;a.left=this.Wa.left;for(f=0;e=this.ec[f];f++)b=e.C,e.wc&&(e=e.wc.C,b=new Pb(Math.max(b.top,e.top),Math.min(b.right,e.right),
Math.min(b.bottom,e.bottom),Math.max(b.left,e.left))),e=null,c>=b.right?e=b.right>a.left?b.right:a.left:c<b.left&&(e=b.left<a.right?b.left:a.right),h=null,d>=b.bottom?h=b.bottom>a.top?b.bottom:a.top:d<b.top&&(h=b.top<a.bottom?b.top:a.bottom),null===e||null===h||(Math.abs(e-c)>Math.abs(h-d)?h=null:e=null),null!==e?e<=c?a.left=e:a.right=e:null!==h&&(h<=d?a.top=h:a.bottom=h);this.pb=10<=(a.right-a.left)*(a.bottom-a.top)?this.ea:null}}};p.Kf=function(){return!1};
p.Ie=function(a){for(var b=0,c;c=this.xc[b];b++)if(a.target==c.c){var d=c.zf-c.c.scrollTop,e=c.yf-c.c.scrollLeft;c.zf=c.c.scrollTop;c.yf=c.c.scrollLeft;this.ea&&this.pb==this.ea&&(0<d?this.ea.C.top+=d:this.ea.C.bottom+=d,0<e?this.ea.C.left+=e:this.ea.C.right+=e);for(var f=0,h;h=c.xd[f];f++)h=h.C,h.top+=d,h.left+=e,h.bottom+=d,h.right+=e,ze(this,h)}this.Na.sf(a)};
p.Pb=function(a){a:{var b=a.cloneNode(!0);switch(a.tagName.toLowerCase()){case "tr":a=Cb("table",null,Cb("tbody",null,b));break a;case "td":case "th":a=Cb("table",null,Cb("tbody",null,Cb("tr",null,b)));break a;default:a=b}}this.rg&&x(a,this.rg);return a};function ze(a,b){if(1==a.ec.length)a.Wa=new Pb(b.top,b.right,b.bottom,b.left);else{var c=a.Wa;c.left=Math.min(b.left,c.left);c.right=Math.max(b.right,c.right);c.top=Math.min(b.top,c.top);c.bottom=Math.max(b.bottom,c.bottom)}}
p.g=function(){we.f.g.call(this);for(var a,b=0;a=this.tc[b];b++)this.Vc&&(J(a.element,"mousedown",a.lf,!1,a),this.ce&&Ia(a.element,this.ce)),this.Wc&&this.ge&&Ia(a.element,this.ge),a.D();this.tc.length=0};function xe(a,b,c,d,e,f,h,m,n,E,q){H.call(this,a);this.Th=b;this.Q=c;this.Vh=d;this.da=e;this.Wh=f;this.clientX=h;this.clientY=m;this.Gi=n;this.Hi=E;this.bh=q}w(xe,H);xe.prototype.g=g();
function Ae(a,b){K.call(this);this.element=t(a)?document.getElementById(a):a;this.data=b;this.v=null;this.R=new Vc(this);xc(this,oa(yc,this.R));if(!this.element)throw Error("Invalid argument");}w(Ae,K);p=Ae.prototype;p.Rb=null;p.lf=function(a){if(Ec(a)&&!(A&&Xa&&a.ctrlKey)){var b=a.target;b&&(this.R.s(b,"mousemove",this.nf,!1).s(b,F,this.nf,!1),this.R.s(wb(b),"mouseup",this.Rg,!0),this.Rb=b,this.de=new C(a.clientX,a.clientY),a.preventDefault())}};p.$d=aa("v");
p.nf=function(a){var b=this.Rb,b=a.type==F&&a.target==b;if(5<Math.abs(a.clientX-this.de.x)+Math.abs(a.clientY-this.de.y)||b)Yc(this.R),this.v.Hb(a,this)};p.Rg=function(){Yc(this.R);delete this.de;this.Rb=null};function ye(a,b,c,d){this.C=a;this.ia=b;this.Ta=c;this.c=d}ye.prototype.wc=null;function Be(a,b){we.call(this);var c=new Ae(a,b);c.$d(this);this.tc.push(c)}w(Be,we);function Ce(a){T.call(this,O(Ce.prototype.u,a));Be.call(this,this.widget,void 0);this.jc=void 0;this.ah=aa("jc");this.ei=k("jc");this.Zd()}w(Ce,T);w(Ce,Be);Ce.prototype.u={parent:document.body,className:S.q.Aa,k:{top:0,left:80,width:500,height:500,border:"solid rgba(90,90,90,1) 1px",position:"absolute",overflow:"hidden","overflow-x":"visible","overflow-y":"visible"}};
Ce.prototype.updateCSS=function(a){this.P=U(this.widget);a=a?a:{};R(this.widget,O({width:this.P.width,height:this.P.height,top:this.P.top,left:this.P.left,overflow:"hidden"},a))};Ce.prototype.Zd=function(){var a=this,b=[S.q.m];this.Wb=function(){Q(a.widget.childNodes,function(a){var d=!1;Q(b,function(b){-1<a.className.indexOf(b)&&(d=!0)});d||De(a,0)})};this.Fd=function(){Q(a.widget.childNodes,function(a){Ee(a,0)})};I(this.widget,sc,function(){a.Fd()});I(this.widget,F,function(){a.Wb()});a.Wb()};
Ce.prototype.Pb=function(a){return this.widget.Xe?a.cloneNode(!1):(a=document.createElement("div"),a.id="DUMMY",a)};Ce.prototype.$b=function(a){this.ah(a)};function V(a){Ce.call(this,O(V.prototype.u,a));var b=this;this.m=new W({parent:this.widget,borderWidth:0});this.m.Aa=this;Fe(this.m,function(){var a=b.jc;a&&a.aa&&b.uf(a.aa)});this.Ae();this.xe();this.T=new Ge({parent:this.widget,k:{backgroundColor:"rgb(35,35,35)"}});this.Za=new He({parent:this.widget,Mf:["Info","Adjust"],k:{height:S.xa,width:"100%"}});this.af();this.ve();this.ca={};this.md={color:"rgba(255,255,255,1)",position:"absolute",top:0,left:0,fontSize:S.xb,textAlign:"left",width:140};this.ca.nc=
P("div",this.widget,"ScanViewerDisplayableData");R(this.ca.nc,this.md);Fe(this.m,function(){b.ca.nc.innerHTML="Frame: "+b.m.Qb+" / "+b.m.frames.length});this.Zd();this.updateCSS()}w(V,Ce);V.prototype.u={className:S.q.ne,ld:{parent:document.body,className:"FrameSlider",k:{height:8,width:"96%",left:"2%"},Cc:{height:7,width:7,eb:2,backgroundColor:"rgba(195,195,195,1)"},hh:{height:3,backgroundColor:"rgba(55, 55, 55, 1)",eb:2}}};V.prototype.$b=function(a){V.f.$b.call(this,a);this.m.$b(a)};
V.prototype.Zd=function(){var a=this,b=[S.q.m];this.Wb=function(){Q(a.widget.childNodes,function(a){var d=!1;Q(b,function(b){-1<a.className.indexOf(b)&&(d=!0)});d||De(a,0)})};this.Fd=function(){Q(a.widget.childNodes,function(a){Ee(a,0)})};I(this.widget,sc,function(){a.Fd()});I(this.widget,F,function(){a.Wb()});a.Wb()};
V.prototype.Pb=function(a){var b=V.f.Pb.call(this,a);"DUMMY"!==b.id&&(a=Mb(a,S.q.ne),b=a.cloneNode(!0),b.style.fontFamily=S.fontFamily,a=zb(S.q.pd,a),zb(S.q.pd,b).getContext("2d").drawImage(a,0,0),b.style.opacity=0.7,b.className="VIEWERCLONE",b.id="CLONE",R(b,{cursor:"move","-moz-user-select":"none"}),Qc(b));return b};V.prototype.af=function(){var a=this;this.T.$g(function(){a.updateCSS()});Ie(this.Za,{activate:function(){var b=U(a.T.Ob,"top");Je(a.T,b+0.5*b)},deactivate:function(){Je(a.T,U(a.T.Ob,"top")+U(a.T.Ob,"height")-U(a.T.widget,"height")-2)}})};V.prototype.linkContentDividerToScanTabs=V.prototype.af;function X(a){var b=this;T.call(this,O(X.prototype.u,a));this.widget.onclick=function(){b.zd()};window.onresize=function(){b.updateCSS()};this.$=P("div",this.widget,S.Uf,this.d.Ng);R(this.$,{"overflow-x":"hidden","overflow-y":"hidden"});this.$.onclick=function(a){ue(a)};R(this.$,{height:"50%",width:"50%"});this.qb=P("img",this.widget,"closeIcon",{position:"absolute",cursor:"pointer",width:10,height:10,zIndex:103});this.qb.src="./icons/closeX.png";this.Af=demoScanData;this.hb=[];b.addScrollGallery();
b.ye();b.we();Ke(b);Le(b);b.Be();b.b({addViewersChangedCallback:function(){b.setThumbnailDragAndDrop();b.setViewerDragAndDrop()}});b.b({insert:"column",animate:"off"});b.b({insert:"column",animate:"off"});b.updateCSS()}w(X,T);u("Modal",X);
X.prototype.u={className:S.q.Tf,mi:"all_columns",vi:1,parent:document.body,ri:50,ti:20,Lh:0.33,Xh:0.9,ug:!1,gi:10,marginWidth:50,marginTop:10,marginLeft:10,J:30,ai:100,qh:400,hi:0.9,ma:{position:"fixed",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,.5)",display:"inline-block","font-family":'Helvetica,"Helvetica neue", Arial, sans-serif'},Ng:{position:"absolute",backgroundColor:"rgba(0,0,0,1)",border:"none","border-radius":"20px"}};X.setViewerDragAndDrop={};
function Le(a){a.ua={};a.ua.dragover=function(b){if(-1<b.Q.element.className.indexOf(S.q.Aa)){var c=b.da.element;b=b.Q.element;var d=U(b),e=U(c),f=(new Date).getTime(),h=b.ic?b.ic:void 0;b.ic=f;h&&200>f-h||(R(b,e),c.qf=d,b.qf=e,e=new Id(c,[e.left,e.top],[d.left,d.top],S.h),e.play(),I(e,"end",function(){R(c,d)}),a.b({swap:[b,c]}))}};a.ua.dragOut=function(a){a.da.element.style.borderColor=a.da.element.jd};a.ua.drop=g();a.ua.dragstart=function(b){b.Q.element.Xe=!0;-1<b.Q.Rb.className.toLowerCase().indexOf("slider")?(a.Je(),
b.Q.element.Xe=!1):(a.Dd(),De(b.Q.element,S.h),a.b(function(a){a.widget.qf=U(a.widget)}))};a.ua.dragend=function(b){var c=Yb(b.Q.element,b.currentTarget.tb),d=U(b.Q.element),c={top:d.top-c.y,left:d.left-c.x},d=new Id(b.Q.element,[c.left,c.top],[d.left,d.top],S.h);R(b.Q.element,c);b.Q.element.style.opacity=1;I(d,"end",function(){a.updateCSS()});d.play()}}
X.prototype.setViewerDragAndDrop=function(){var a=this;1<a.b("total")&&(a.b(function(b){a.b(function(a){b!==a&&(b.he.push(a),a.Wc=!0,b.Vc=!0)});I(b,"dragstart",a.ua.dragstart)}),a.Dd())};X.prototype.Je=function(){var a=this;a.b(function(b){J(b,"drop",a.ua.drop);J(b,"dragover",a.ua.dragover);J(b,"dragend",a.ua.dragend)})};X.prototype.Dd=function(){var a=this;a.b(function(b){b.Sa();I(b,"drop",a.ua.drop);I(b,"dragover",a.ua.dragover);I(b,"dragend",a.ua.dragend)})};
X.prototype.enableViewerDragAndDrop=X.prototype.Dd;X.prototype.disableViewerDragAndDrop=X.prototype.Je;X.prototype.setViewerDragAndDrop=X.prototype.setViewerDragAndDrop;X.prototype.initViewerDragAndDrop=X.prototype.li;X.prototype.Od=function(){var a=Math.round(window.innerWidth*S.jf),b=S.jf*window.innerHeight,c=this.b(),d=c[0].length,e=c.length,f=(b-(e+1)*S.J)/e,h=S.sd*f,c=S.rd+h*d+S.gc*d+S.J;c>a&&(h=(a-(S.rd+S.gc*d+S.J))/d,f=h/S.sd,c=a,b=f*e+S.gc*(e-1)+2*S.J);var a=(window.innerWidth-c)/2,d=(window.innerHeight-b)/2,e={height:Math.round(b)-2*S.J,top:S.J},m=[],n=[],E=U(this.ScrollGallery.widget),q=E.width+E.left+S.gc;this.b(function(a,b,c){l=q+c*(h+S.gc);0!=c&&m[b]||m.push([]);m[b][c]=l;0!=c&&n[b]||n.push([]);n[b][c]=
-1+b*(f+S.Zf);n[b][c]+=S.J});return{width:Math.round(c),left:Math.round(a),height:Math.round(b),top:Math.round(d),Viewer:{width:Math.round(h),height:Math.round(f),lefts:m,tops:n},ScrollGallery:{widgetCSS:e},closeButton:{left:Math.round(a)+Math.round(c)-Me(this.qb.style.width)-13,top:Math.round(d)+10},ColumnMenu:{left:Math.round(c)-S.J,top:n[0][0]+Math.round(b)/2-S.J-20,width:S.J-1,height:40},RowMenu:{left:m[0][0]+(Math.round(c)-m[0][0]-S.J)/2-17,top:Math.round(b)-S.J,width:40,height:S.J-1}}};
X.prototype.modalDims=X.prototype.Od;function Ne(a){K.call(this);this.sc={};this.rc={};this.Ra=new Vc(this);this.v=a}w(Ne,K);var Oe=[y?"readystatechange":"load","abort","error"];function Pe(a,b,c){(c=t(c)?c:c.src)&&(a.sc[b]=c)}Ne.prototype.start=function(){var a=this.sc;Aa(Pa(a),function(b){var c=a[b];if(c&&(delete a[b],!this.kc)){var d;d=this.v?D(this.v).K("img"):new Image;this.Ra.s(d,Oe,this.rf);this.rc[b]=d;d.id=b;d.src=c}},this)};
Ne.prototype.rf=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.kc&&(a=b.id,delete this.sc[a],b=this.rc[a])&&(delete this.rc[a],this.Ra.ka(b,Oe,this.rf),Qa(this.rc)&&Qa(this.sc)&&this.dispatchEvent("complete"))}};
Ne.prototype.g=function(){delete this.sc;delete this.rc;yc(this.Ra);Ne.f.g.call(this)};function Qe(a){var b=this;T.call(this,O(Qe.prototype.u,a));Be.call(this,this.widget,void 0);this.Gc=new Image;this.Gc.className="ThumbnailImage";this.I=Re(this);this.bb=P("div",this.widget,"TextElement",{position:"absolute",height:this.d.cb.height,width:this.d.cb.width,top:1*S.Hc,left:this.d.cb.width+2*S.Hc,fontSize:11,fontFamily:'Helvetica,"Helvetica neue", Arial, sans-serif'});Se(this.I,S.q.I);Te(this);this.Gc.onload=function(){b.I?b.I.getContext("2d").drawImage(b.Gc,0,0,b.d.cb.width,b.d.cb.height):
Ue("No thumb canvas");if(a.onloadCallbacks)for(var c=0,d=a.onloadCallbacks.length;c<d;c++)a.onloadCallbacks[c]()}}w(Qe,T);w(Qe,Be);u("Thumbnail",Qe);Qe.prototype.setActive=function(a){this.Fg=a;this.Fa.Wd()};Qe.prototype.Pb=function(a){var b;b=Mb(a,this.d.className);a=b.cloneNode(!0);b=zb(S.q.I,b);zb(S.q.I,a).getContext("2d").drawImage(b,0,0);a.style.opacity=0.5;a.className="CLONE";a.id="CLONE";Qc(a);return a};function Ve(a){splitStrs=a.split("demoscans");return splitStrs[1]}
function Re(a){var b=P("canvas",a.widget,"ThumbCanvas",O(a.d.cb,{top:S.Vf,left:S.Hc}));b.width=a.d.cb.width;b.height=a.d.cb.height;return b}
function Te(a){a.Fa||(a.Fa={});a.Fa.Wd=function(){var b=a.Fg?a.d.ie:a.d.fh;R(a.bb,{color:b});R(a.I,{borderColor:b});R(a.widget,{backgroundColor:a.d.ig})};a.Fa.Ag=function(){R(a.widget,{backgroundColor:a.d.jg});R(a.bb,{color:a.d.ie});R(a.I,{borderColor:a.d.ie})};a.Fa.Fe=function(b){b?a.Fa.Ag():a.Fa.Wd()};I(a.widget,sc,function(){a.Fa.Fe(!0)});I(a.widget,F,function(){a.Fa.Fe(!1)});a.Fa.Wd()}
Qe.prototype.u={className:S.q.Fc,parent:document.body,Uh:document.body,Bh:!1,ig:"rgb(0,0,0)",jg:"rgb(50, 50, 50)",fh:"rgb(120,120,120)",ie:"rgb(230, 230, 230)",k:{position:"absolute",width:S.Xf,height:S.re,top:0,left:0,cursor:"pointer",backgroundColor:"rgb(0,0,0)"},cb:{position:"absolute",width:S.Wf-2,height:S.qe-2,top:0,left:0,"overflow-y":"hidden","overflow-x":"hidden",border:"solid","border-color":"rgb(120,120,120)",borderWidth:1,"border-radius":0,cursor:"pointer"}};Qe.prototype.updateCSS=g();function Xe(a,b){function c(a){var b=d.getFrameList(a);d[a+"FrameCount"]=b.length;d[a+"LoadCount"]=0;Q(b,function(b){d.frames[Ve(b)]={viewPlane:a,src:b}})}Qe.call(this,O(Xe.prototype.u,b));var d=this;this.aa=a;this.Gc.src=this.aa.sagittalPaths[Math.round(d.aa.sagittalPaths.length/2)];this.frames={};this.getFrames=function(a){var b="object"===typeof a;if("string"===typeof a){var b=a,c=[],m;for(m in d.frames)d.frames[m].viewPlane===b&&c.push(d.frames[m]);return c}if(b){var b=a.viewPlane,n=a.filter?
a.filter:!1,c=[];for(m in d.frames)d.frames[m].viewPlane===b&&n&&d.frames[m][a.filter]&&c.push(d.frames[m][a.filter]);return c}};c("sagittal");c("coronal");c("transverse");this.I.ac=[];this.I.ac[0]=Me(this.aa.sessionInfo.Scan.value);this.I.ac[1]=this.aa.sessionInfo.type.value.toString().toLowerCase();this.I.ac[2]=this.aa.sagittalPaths.length.toString().toLowerCase();this.bb.innerHTML+="<b><font size = '3'>"+this.I.ac[0]+"</font></b><br>";this.bb.innerHTML+=this.I.ac[1]+"<br>";this.bb.innerHTML+=this.I.ac[2]+
" frames<br>";Te(this)}w(Xe,Qe);u("ScanThumbnail",Xe);Xe.prototype.Pb=function(a){var b;b=Mb(a,this.d.className);a=b.cloneNode(!0);b=zb(S.q.I,b);zb(S.q.I,a).getContext("2d").drawImage(b,0,0);a.style.opacity=0.5;a.className="CLONE";a.id="CLONE";Qc(a);return a};Xe.prototype.u={className:S.q.me};Xe.prototype.getFrameList=function(a){return"sagittal"===a?this.aa.sagittalPaths:"transverse"===a?this.aa.axialPaths:this.aa.coronalPaths};Xe.prototype.updateCSS=g();
Qe.prototype.getFrameList=function(a){return"sagittal"===a?this.aa.sagittalPaths:"transverse"===a?this.aa.axialPaths:this.aa.coronalPaths};Xe.prototype.ef=function(a){var b=this,c=[],d=this.getFrames(a.viewPlane).length;a.before&&a.before(d);for(e in this.frames)d=this.frames[e].viewPlane,this.frames[e].img||a.viewPlane&&d===a.viewPlane&&c.push(this.frames[e].src);if(0===c.length)XV.b(function(a){a.m.va===b&&(Ue("Using cached images for "+a.m.na+" plane."),a.m.Nd())});else{d=new Ne;I(d,"load",function(b){a.load(b.target)});I(d,"complete",function(b){a.complete(b)});for(var e=0,f=c.length;e<f;e++){var h=Ye(c[e]);Pe(d,h,c[e])}d.start()}};
Xe.prototype.loadFramesToDOM=Xe.prototype.ef;Qe.prototype.viewPlaneLoaded=Qe.prototype.Fi;V.prototype.cg=function(){var a=this,b=U(this.widget,"width")-20,c={1:{images:["Chain-Closed","Chain-Closed_GroupPlus","Chain-Closed_Group"],je:["Link slider to current group","Link slider to new group","Link slider to selected group"]},2:{images:["Chain-Broken_Minus","Chain-Broken_GroupMinus","Broom_Minus"],je:["Unlink from group","Remove group","Clear all groups"]},3:{images:["Eye"],je:["View all groups"]}},d=0,e=0,f;for(f in c)d<c[f].images.length&&(d=c[f].images.length),e+=35;var h=52.5*d+35;
this.H=P("div",this.widget,"LinkMenu",{position:"absolute",left:b,top:5,height:35,width:35});this.H.closed=!1;this.H.Bg=P("img",this.H,"icon",{position:"absolute",left:0,top:0,height:25,width:25,cursor:"pointer"});this.H.Bg.src="./icons/LinkMenu/Chain-Broken.png";a.H.ii=!1;this.H.t=P("div",this.H,"subMenu",{position:"absolute",left:-h+35,top:0,height:e,width:h,cursor:"pointer"});this.H.t.Yg=!1;this.H.t.Ab=[];for(f in c)Q(c[f].images,function(b,d){var e=P("img",this.H.t,"Icon_"+b,{position:"absolute",
top:35*(f-1),left:h-70-17.5-52.5*d,height:35,width:35,cursor:"pointer"});e.src="./icons/LinkMenu/"+b+".png";e.title=c[f].je[d];this.H.t.Ab.push(e);"Link slider to selected group"!==e.title&&("Link slider to current group"===e.title?e.onclick=function(b){ue(b);S.ab.Ic(a);a.H.childNodes[0].src="./icons/LinkMenu/Chain-Closed.png"}:"Link slider to new group"===e.title?e.onclick=function(b){ue(b);S.ab.addGroup();S.ab.Ic(a,"Select viewers for new link group.  Click 'Done' when finished.");a.H.childNodes[0].src=
"./icons/LinkMenu/Chain-Closed.png"}:"Unlink from group"===e.title?e.onclick=function(){Ze();a.S&&($e(S.ab,a,!0),a.H.childNodes[0].src="./icons/LinkMenu/Chain-Broken.png")}:"Remove group"===e.title?e.onclick=function(){Ze();a.S&&(af(a),a.H.childNodes[0].src="./icons/LinkMenu/Chain-Broken.png")}:"Clear all groups"===e.title?e.onclick=function(){bf();S.ab.td(a);XV.b(function(a){"ScanViewer"==a.type&&(a.H.childNodes[0].src="./icons/LinkMenu/Chain-Broken.png")})}:"View all groups"===e.title&&(e.onclick=
function(a){"undefined"===typeof e.Kb&&(e.Kb=!1);e.Kb=!e.Kb;if("undefined"!==typeof a){e.Kb?(S.ab.Jf=!0,bf()):(S.ab.Jf=!1,cf(S.ab));var b;e.Kb=!e.Kb;XV.b(function(a){"ScanViewer"===a.type&&(b=a.H.t.Ab,Q(b,function(a){if("View all groups"===a.title)a.onclick()}))})}else!0===e.Kb?(subMenuIconBind(e,!1),df.mh(this,0)):(subMenuIconBind(e,!0),df.nh(this,0,0.5))}))})};V.prototype.addLinkMenu=V.prototype.cg;function ef(a,b,c,d){K.call(this);this.M=c||D();this.N=a;this.ra=[];this.eh=b?b:ff;this.Pf=!!d;this.N.className="goog-tabpane";a=[];for(b=void 0!=this.N.firstElementChild?this.N.firstElementChild:Hb(this.N.firstChild);b;)a.push(b),b=void 0!=b.nextElementSibling?b.nextElementSibling:Hb(b.nextSibling);this.V=this.M.K("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.B=this.M.K("div","goog-tabpane-cont");this.N.appendChild(this.B);switch(this.eh){case ff:this.N.insertBefore(this.V,this.B);this.N.insertBefore(gf(this),
this.B);x(this.N,"goog-tabpane-top");break;case 1:this.N.appendChild(this.V);this.N.appendChild(gf(this));x(this.N,"goog-tabpane-bottom");break;case 2:this.N.insertBefore(this.V,this.B);x(this.N,"goog-tabpane-left");break;case 3:this.N.insertBefore(this.V,this.B);x(this.N,"goog-tabpane-right");break;default:throw Error("Invalid tab location");}this.V.tabIndex=0;I(this.V,this.Pf?"mousedown":rc,this.fd,!1,this);I(this.V,"keydown",this.gd,!1,this);for(c=0;b=a[c];c++)hf(this,new jf(b))}w(ef,K);
var ff=0;function gf(a){var b=D(void 0),c=null;if(y)c=b.L.createStyleSheet(),dc(c);else{var d=yb(b.L,"head",void 0,void 0)[0];d||(c=yb(b.L,"body",void 0,void 0)[0],d=b.K("head"),c.parentNode.insertBefore(d,c));c=b.K("style");dc(c);b.appendChild(d,c)}return a.M.K("div","goog-tabpane-clear")}p=ef.prototype;p.g=function(){ef.f.g.call(this);J(this.V,this.Pf?"mousedown":rc,this.fd,!1,this);J(this.V,"keydown",this.gd,!1,this);delete this.N;this.B=this.V=null};
function hf(a,b,c){if(b.v&&b.v!=a&&b.v instanceof ef){var d=b.v,e=b;fa(e)&&(e=d.ra[e]);d.ra.splice(e.Cb,1);var f=e;f.v=null;f.Cb=s(void 0)?void 0:null;Fb(e.lc);Fb(e.B);for(e=0;f=d.ra[e];e++){var h=e;f.v=d;f.Cb=s(h)?h:null}}d=a.ra.length;s(c)&&c!=d?(d=c,a.ra.splice(d,0,b),a.V.insertBefore(b.lc,a.V.childNodes[d])):(a.ra.push(b),a.V.appendChild(b.lc));c=d;b.v=a;b.Cb=s(c)?c:null;a.Ja||(a.Ja=b,a.dispatchEvent(new kf("change",a,a.Ja)));a.B.appendChild(b.B);lf(b,b==a.Ja);for(c=d+1;b=a.ra[c];c++)b.Cb=c}
function mf(a,b){if(0<=b&&b<a.ra.length){var c=a.ra[b];!c.isEnabled()||a.Ja&&c==a.Ja||(lf(a.Ja,!1),lf(c,!0),a.Ja=c,a.dispatchEvent(new kf("change",a,a.Ja)))}}p.yb=function(){return this.B||null};p.a=function(){return this.N||null};p.fd=function(a){for(var b=a.target;b!=this.V;){if("LI"==b.tagName){var c;for(c=0;b=b.previousSibling;c++);mf(this,c);break}b=b.parentNode}a.preventDefault()};
p.gd=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:a=this.Ja.Cb-1;mf(this,0>a?this.ra.length-1:a);break;case 39:a=this.Ja.Cb+1;mf(this,a>=this.ra.length?0:a);break;case 36:mf(this,0);break;case 35:mf(this,this.ra.length-1)}};
function jf(a,b,c){var d,e;if(t(a)&&!s(b))d=a;else if(b)d=b,e=a;else if(a){if(b=void 0!=a.firstElementChild?a.firstElementChild:Hb(a.firstChild))tb&&"innerText"in b?d=b.innerText.replace(/(\r\n|\r|\n)/g,"\n"):(d=[],Lb(b,d,!0),d=d.join("")),d=d.replace(/ \xAD /g," ").replace(/\xAD/g,""),d=d.replace(/\u200B/g,""),tb||(d=d.replace(/ +/g," "))," "!=d&&(d=d.replace(/^\s*/,"")),b.parentNode.removeChild(b);e=a}this.M=c||D();this.B=e||this.M.K("div");this.lc=this.M.K("li",null,d);this.Cb=this.v=null;this.Da=
!0}jf.prototype.yb=k("B");jf.prototype.Xd=function(a){this.Da=a;this.lc.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};jf.prototype.isEnabled=k("Da");function lf(a,b){a.isEnabled()&&(a.B.style.display=b?"":"none",a.lc.className=b?"goog-tabpane-tab-selected":"goog-tabpane-tab")}function kf(a,b,c){H.call(this,a,b);this.page=c}w(kf,H);function He(a){T.call(this,a);nf(this);this.Lf=new ef(this.widget);this.Nf=[];this.ze();this.Hg=0;this.ci=k("Hg");this.qc=function(a){var c;"string"===typeof a?(a=a.toLowerCase(),Q(this.Nf,function(d){-1<d.label.toLowerCase().indexOf(a)&&!c&&(c=d)})):"number"===typeof a&&Q(xb("TabPage",this.widget),function(d,e){e===a&&(c=d)});return c};this.updateCSS();of(this);this.setActive(0);Q(xb("Tab",this.widget),function(a){a.Db=!1})}w(He,T);u("ScanTabs",He);
He.prototype.u={parent:document.body,className:S.q.Za,Mf:["Info","Adjust"],dh:["./icons/InfoIcon.png","./icons/Adjust.png"],k:{position:"absolute",top:400,left:20,height:300,width:"100%",borderWidth:1,backgroundColor:S.le}};function of(a){Q(xb("Tab",a.widget),function(b,c){I(b,rc,function(){b.Db?(a.U.deactivate(),b.Db=!1):(a.setActive(c),a.U.activate())});I(b,sc,function(){b.style.opacity=1})})}function Ie(a,b){a.U||(a.U={});for(callbackType in b)a.U[callbackType]=b[callbackType]}
He.prototype.setActive=function(a){var b=this,c,d,e={border:"solid 1px rgb(120,120,120)"},f={border:"solid 1px rgb(80,80,80)"};mf(this.Lf,a);Q(xb("Tab",b.widget),function(h,m){c=f;d=10;h.Db=!1;m===a&&(c=e,d=1E3,disp="visible",h.Db=!0);R(h,O(c,{zIndex:d,backgroundColor:"rgb(0,0,0)","border-bottom":"rgb(0,0,0)"}));R(b.qc(m),O(c,{zIndex:d}))})};
He.prototype.updateCSS=function(a){R(this.widget,a);a=U(this.widget.parentNode,"height");var b=U(this.widget.parentNode,"width"),c=U(xb("Tab",this.widget)[0],"outerHeight"),d=a-U(this.widget,"top")-c-1||0;Q(xb("TabPage",this.widget),function(a){R(a,{height:d,width:b-2})})};function pf(a){ad.call(this,a);this.Ha=new $d;I(this.Ha,"change",this.xg,!1,this)}w(pf,ad);var qf={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};p=pf.prototype;p.K=function(){this.ja=this.Mc();var a=qf[this.w];this.c=this.oc().K("div",a,this.ja);rf(this);sf(this);tf(this)};p.Ub=function(){pf.f.Ub.call(this);y&&7>gb&&I(this.a(),"resize",this.Ya,!1,this);this.Ya();var a=this.a();Vd(a,"progressbar");Wd(a,"live","polite")};p.wb=function(){pf.f.wb.call(this);uf(this)};
p.Mc=function(){return this.oc().K("div","progress-bar-thumb")};function uf(a){y&&7>gb&&J(a.a(),"resize",a.Ya,!1,a)}p.Sb=function(a){pf.f.Sb.call(this,a);x(this.a(),qf[this.w]);a=yb(document,null,"progress-bar-thumb",this.a())[0];a||(a=this.Mc(),this.a().appendChild(a));this.ja=a};pf.prototype.getValue=function(){return this.Ha.getValue()};pf.prototype.setValue=function(a){this.Ha.setValue(a);this.a()&&rf(this)};function rf(a){Wd(a.a(),"valuenow",a.getValue())}p=pf.prototype;p.r=function(){return this.Ha.r()};
p.dc=function(a){this.Ha.dc(a);this.a()&&sf(this)};function sf(a){Wd(a.a(),"valuemin",a.r())}p.p=function(){return this.Ha.p()};p.nb=function(a){this.Ha.nb(a);this.a()&&tf(this)};function tf(a){Wd(a.a(),"valuemax",a.p())}p.w="horizontal";p.xg=function(){this.Ya();this.dispatchEvent("change")};
p.Ya=function(){if(this.ja){var a=this.r(),b=this.p(),a=(this.getValue()-a)/(b-a),b=Math.round(100*a);"vertical"==this.w?y&&7>gb?(this.ja.style.top=0,this.ja.style.height="100%",b=this.ja.offsetHeight,a=Math.round(a*b),this.ja.style.top=b-a+"px",this.ja.style.height=a+"px"):(this.ja.style.top=100-b+"%",this.ja.style.height=b+"%"):this.ja.style.width=b+"%"}};
p.Df=function(a){if(this.w!=a){var b=qf[this.w],c=qf[a];this.w=a;this.a()&&(Ka(this.a(),b,c),a=this.ja.style,"vertical"==this.w?(a.left=0,a.width="100%"):(a.top=a.left=0,a.height="100%"),this.Ya())}};p.g=function(){uf(this);pf.f.g.call(this);this.ja=null;this.Ha.D()};p.pc=function(){return this.Ha.pc()};p.zc=function(a){this.Ha.zc(a)};function vf(a){return 1-Math.pow(1-a,3)};function wf(){}function df(){};V.prototype.xe=function(){var a=this;this.G=new ve(O(this.d.ld,{parent:this.widget}));this.G.addSlideCallback(function(){var b=0<a.G.p()?a.G.r():0,c=Math.round(a.G.getValue());a.ca&&a.ca.nc&&(a.ca.nc.innerHTML=0<a.m.frames.length?"Frame: "+(c+1)+" / "+a.m.frames.length:"Drag or click on any thumbnail to view.");xf(a.m,c-b,!0);var b=a.m,d;for(d in b.Mb)yf(b,d,b.Mb[d])});Fe(this.m,function(){a.G?(a.G.dc(0),a.G.nb(a.m.frames.length-1),a.G.setValue(Math.round(a.m.frames.length/2)),xf(a.m,Math.round(a.G.getValue()),
!0)):Ue("NO DRAW FRAME")});this.G.bindToMouseWheel(this.m.widget)};V.prototype.addFrameSlider=V.prototype.xe;X.prototype.we=function(){function a(a){var d=P("img",b.nd,a.id,{position:"absolute",cursor:"pointer",zIndex:100,width:zf(0.5*S.J),left:zf(0.25*S.J),top:zf(a.top),"vertical-align":"bottom"});Y(d,0,0.5);I(d,sc,function(){Y(d,S.h,1)});I(d,F,function(){Y(d,S.h,0.5)});d.src=a.src;d.title=a.title;I(d,rc,function(){Y(d,S.h,0.5);a.onclick()})}var b=this;this.nd=P("div",this.$,"ColumnMenu",{position:"absolute",textAlign:"right",display:"inline-block",bottom:"0px"});a({id:"InsertColumnButton",src:"./icons/Arrows/insertColumnArrow.png",
top:0,title:"Insert Column",onclick:function(){XV.b({insert:"column"})}});a({id:"RemoveColumnButton",src:"./icons/Arrows/removeColumnArrow.png",top:22,title:"Remove Column",onclick:function(){XV.b({remove:"column"})}})};X.prototype.addColumnMenu=X.prototype.we;function O(a,b){var c={},d;for(d in a)c[d]=a[d];if(b)for(d in b)c[d]=b[d]&&"[object Object]"===b[d].toString()&&d in c?O(c[d],b[d]):b[d];return c}u("utils.dom.mergeArgs",O);function ue(a){a||(a=window.event);a.cancelBubble=!0;a.stopPropagation&&a.stopPropagation()}u("utils.dom.stopPropagation",ue);u("utils.fx.fadeInFromZero",function(a,b,c){Y(a,0,0,function(){Y(a,b,1,c)})});function R(a,b){a&&b&&(a.style||(a.style={}),Rb(a,b),Q("top left height width fontSize borderWidth borderRadius".split(" "),function(c){b[c]&&(a.style[c]="number"===typeof b[c]?zf(b[c]):b[c])}))}u("utils.css.setCSS",R);function Af(){}u("imageProcessing",Af);Af.prototype.linearBrightness=function(a,b){for(var c=0,d=a.length;c<d;c+=4){var e=a[c+1],f=a[c+2];a[c]+=b;a[c+1]=e+b;a[c+2]=f+b}return a};Af.prototype.linearContrast=function(a,b,c){for(var d=0,e=a.length;d<e;d+=4){var f=a[d]/255,h=a[d+1]/255,m=a[d+2]/255,f=255*((f-c)*b/1+c),h=255*((h-c)*b/1+c),m=255*((m-c)*b/1+c),f=255<f?255:f,f=0>f?0:f,h=255<h?255:h,h=0>h?0:h,m=255<m?255:m,m=0>m?0:m;a[d]=Math.round(f);a[d+1]=Math.round(h);a[d+2]=Math.round(m)}return a};
Af.prototype.objArrContains=function(a,b,c){var d=-1;for(i in a)a[i][b]===c&&(d=i);return d};function Bf(a,b){for(var c=[],d=0,e=b.length;d<e;d+=4){var f=Math.round((b[d]+b[d+1]+b[d+2])/3);if(0<c.length){var h=a.objArrContains(c,"intensity",f);if(-1!==h){c[h].count+=1;continue}}c.push({count:1,intensity:f})}c=c.sort(function(a,b){return a.Tc<b.Tc?-1:a.Tc===b.Tc?0:1});f=[];h=[];d=0;for(e=c.length;d<e;d++)f.push(c[d].count),h.push(c[d].Tc);return{objArr:c,countArr:f,intensityArr:h}}
Af.prototype.sigmaMult=function(a,b){if(a.length!==b.length||0===a.length||0==b.length)throw"sigmaMult: Array lengths unequal or zero length!";for(var c=0,d=0,e=a.length;d<e;d++)c+=a[d]*b[d];return c};function Cf(a){if(0===a.length)throw"sigmaMult: Array lengths unequal or zero length!";for(var b=0,c=0,d=a.length;c<d;c++)b+=a[c];return b}
Af.prototype.thresholdAutoDetect=function(a){var b=Bf(this,a);a=b.countArr;b=b.intensityArr;if(1<a.length&&1<b.length){var c=[14];c[0]=Math.round(sigmaMult(a,b)/Cf(a));for(var d=1,e=0;0!==d&&14>e;){for(var d=[],f=0,h=b.length;f<h;f++)b[f]>c[e]&&d.push(f);f=d[0];d=sigmaMult(a.slice(0,f),b.slice(0,f))/Cf(a.slice(0,f));f=sigmaMult(a.slice(f,a.length-1),b.slice(f,a.length-1))/Cf(a.slice(f,a.length-1));e+=1;c[e]=Math.round(Math.sqrt(d*f));d=c[e]-c[e-1]}return c[e]/255}};function Df(){}u("xmiv",Df);Df.start=function(){document.body.style.overflow="hidden";S.rh="thuravingal";S.ab=new Z;XV=new X({parent:document.body});IP=new Af};u("xmiv.start",Df.start);function Ef(a,b,c,d){var e="A "+a+" has invalid arguments:",f;for(f in c)if(f in b)"[object Object]"===c[f].toString()&&Ef(a,b[f],c[f]);else throw e+" '"+f+"' ";d&&d()}u("utils.dom.validateArgs",Ef);function Ue(a){window.console&&console.log(a)}u("utils.dom.debug",Ue);function Z(){this.kg=[[155,205,5,1],[21,2,200,1],[25,200,55,1],[200,5,200,1],[0,255,0,1],[0,200,0,1],[0,0,200,1],[200,0,0,1],[200,200,0,1]];this.ga=[];this.addGroup()}u("SliderLinker",Z);Z.ph=S.Sf;
Z.vf={k:{fontFamily:$.fontFamily,fontSize:$.Le,color:"rgba(255,255,255,1)",border:"solid",borderWidth:1,borderColor:"rgba(255,255,255,1)",backgroundColor:"rgba(0,0,0,1)",eb:0,zIndex:1E4},Jc:{height:2*$.Le,position:"absolute",border:"solid",color:"rgba(255,255,255,1)",borderWidth:1,borderColor:"rgba(255,255,255,1)",backgroundColor:"rgba(125,125,125,1)",eb:0,cursor:"pointer"}};Z.prototype.getGroups=k("ga");Z.prototype.lastGroup=function(){return this.ga[this.ga.length-1]};
Z.prototype.addGroup=function(){this.ga.push({border:"solid 2px rgba("+this.kg[this.ga.length].toString()+")",fi:"linkGroup_"+this.ga.length,zh:[],Sd:[]})};function Ff(a){a.S.style.border="none";J(a.widget,sc,that.Gf);J(a.widget,F,that.Ff);Q(a.widget.Ph,function(a){a()});a.G.He()}function $e(a,b,c){var d,e=!1;Q(a.ga,function(a){e||(d=a.b.indexOf(b),-1<d&&(c&&Ff(a.b[d]),a.b.splice(d,1),e=!0))})}
function af(a){var b,c,d;Gf({Ge:function(c){d||(b=c.b.indexOf(a))},Bd:function(a){-1<b&&!d&&Ff(a)},Ee:function(a,f){-1<b&&!d&&(c=f.indexOf(a),0<i?f.splice(c,1):a.b=[],d=!0)}})}function Hf(a,b){return P("div",a,"selectorBox",O(b,{position:"absolute",border:"solid 3px rgba(255,0,0,1)",cursor:"pointer"}))}function If(a){XV.b(function(a){$e(that,a,!0)});a.ga=[];a.addGroup()}function Jf(a){Gf(function(b,c){if(b.widget.id===a)return{Qf:b,jh:c.b}})}
function bf(){Gf(function(a){(new wd(function(){Ee(a,S.h)},0)).start()})}function cf(a,b){var c=b?b:0;a.Jf||Gf(function(a){(new wd(function(){De(a,S.h)},c)).start()})}function Ze(){Gf(function(a){Ee(a.S,S.h,function(){(new wd(function(){De(a,S.h)},500)).start()})})}function Kf(){Gf(function(a){group.Sd.push(a)})}
function Gf(a){var b={};"function"===typeof a?b.Bd=a:"object"===typeof a&&(b={});Q(groups,function(a){b.Ge&&b.Ge(a,groups);Q(a.b,function(d){b.Bd&&b.Bd(d,a,groups)});b.Ee&&b.Ee(a,groups)})}Z.prototype.cancel=function(){Gf({during:function(a){Ff(a)},after:function(a){a.b=this.ga[i].Sd;a.Sd=[];cf(that)}});Lf()};function Lf(){XV.b(function(a){R(a.S,{"pointer-events":"none"});cf(that,500)});Gf(function(a){I(a.widget,sc,that.Gf);I(a.widget,F,that.Ff)})}
Z.prototype.Gf=function(a){a=Jf(a.currentTarget.id);var b=a.Qf;Q(a.jh,function(a){a!==b&&b.G.Jg(a.G)})};Z.prototype.Ff=function(a){(a=Jf(a.currentTarget.id))&&a.Qf.G.He()};Z.td={};Z.prototype.td=function(a,b){Kf();var c=this,d=new Mf(O(c.vf,{buttons:["Yes","Cancel"],message:"undefined"===typeof b?"Are you sure you want to clear all links?":b})),e=d.widget();d.setButtonOnclick("yes",function(a){ue(a);Nf(e,S.h,function(){If(c)})});d.setButtonOnclick("cancel",function(a){ue(a);Nf(e,S.h,function(){If(c)})});XV.updateCSS();De(e,0,function(){Ee(e,S.h)})};Z.prototype.addClearAllPopup=Z.prototype.td;u("utils.oo.init",function(a,b,c,d){a.u=b;a.d=c?O(a.u,c):a.u;a.ma=a.d.ma?a.d.ma:a.d.k;a.widget=P("div",a.d.parent,a.d.className,a.ma);d&&d()});new function(){(new N).addSlideCallback(function(){console.log("hera")})};u("utils.css.processCSSObject",function(a){var b="height width left top borderWidth borderWidth borderRadius border-radius fontSize fontSize margin margin-top marginTop marginLeft margin-left".split(" ");for(key in a)-1<b.indexOf(key)&&"number"===typeof a[key]&&(a[key]=zf(a[key]));return a});function W(a){T.call(this,O(W.prototype.u,a));this.Qb=this.d.Xg;this.cc=Of(this.widget);this.cc.hide();this.canvas=P("canvas",this.widget,S.q.pd,{top:0,left:0});this.canvas.height=this.ma.height;this.canvas.width=this.ma.width;this.rb=this.canvas.getContext("2d");this.tf=[];this.Mb={};this.rb.font=zf(10)+" "+this.d.ma["font-family"];this.rb.fillStyle="white";this.frames=[];this.updateCSS()}w(W,T);u("FrameHolder",W);
W.prototype.u={className:S.q.m,parent:document.body,Xg:0,Ih:"drag and drop Thumbnail here",mg:0.01,ma:{position:"absolute",top:15,left:20,height:300,width:300,fontSize:16,"overflow-y":"hidden","overflow-x":"hidden","font-family":"Helvetica, Helvetica neue, Arial, sans-serif",border:"solid",borderColor:"rgba(50,50,50,1)",color:"rgba(255,255,255,1)",borderWidth:0,"border-radius":0,overflow:"visible"}};function Fe(a,b){a.tf.push(b)}
function xf(a,b,c){a.frames&&(0>b?b=0:b>a.frames.length&&(b=a.frames.length-1),0<a.frames.length&&(b=Math.round(b),a.Qb=b,Pf(a.frames[b],a.canvas,a.rb)),!0===c&&yf(a))}
function Pf(a,b,c){var d=0,e=0,f=b.width,h=b.height;c.clearRect(0,0,b.width,b.height);a.width<a.height?(newH=b.height,newW=Math.round(a.width*b.height/a.height),d=Math.round(b.width-newW)/2,f=newW):a.width>a.height&&(newW=b.width,newH=Math.round(a.height*b.width/a.width),e=Math.round(b.height-newH)/2,h=newH);c.drawImage(a,d,e,f,h)}
function yf(a,b,c){if("undefined"!==b&&c&&0<a.canvas.height&&0<a.canvas.width){a.Mb[b]=c;xf(a,a.Qb);b=a.rb.getImageData(0,0,a.canvas.width,a.canvas.height);for(var d in a.Mb)switch(d){case "brightness":b.data=IP.linearBrightness(b.data,a.Mb[d]);break;case "contrast":b.data=IP.linearContrast(b.data,a.Mb[d],a.u.mg)}a.rb.putImageData(b,0,0)}};W.updateCSS={};W.prototype.updateCSS=function(a){a=O(U(this.widget),a);R(this.widget,a);this.canvas.height=a.height;this.canvas.width=a.width;R(this.canvas,a);xf(this,this.Qb)};W.prototype.updateCSS=W.prototype.updateCSS;X.prototype.vd=function(a){function b(a,b,c){return new Id(a,[a.offsetLeft,a.offsetTop],[b,c],S.hc,vf)}var c=this,d=this.Od(),e=new Ud;e.add(new Jd(this.$,[this.$.offsetWidth,this.$.offsetHeight],[d.width,d.height],S.hc,vf));e.add(b(this.$,d.left,d.top));e.add(b(this.qb,d.qb.left,d.qb.top));XV.b(function(a,c,m){e.add(b(a.widget,d.Aa.ni[c][m],d.Aa.Ei[c][m]));e.add(new Jd(a.widget,[a.widget.offsetWidth,a.widget.offsetHeight],[d.Aa.width,d.Aa.height],S.hc,vf))});Q(["ColumnMenu","RowMenu"],function(a){Q(xb(a),
function(c){e.add(b(c,d[a].left,d[a].top))})});I(e,"end",function(){c.updateCSS();XV.b(function(a){0==a.widget.style.opacity&&Ee(a.widget,S.h)});a&&a()});e.play()};X.prototype.animateModal=X.prototype.vd;V.updateCSS={};
V.prototype.updateCSS=function(a){V.f.updateCSS.call(this,a);if(!this.T.Ke&&U(this.T.Ob,"width")!==this.P.width){a=S.Lg;var b=this.P.height-a-U(this.T.widget,"height")-S.xa+5;R(this.T.widget,{top:S.Kg(this.P.height)-1});R(this.T.Ob,{top:a,left:0,height:b,width:this.P.width})}b=U(this.T.widget);a=b.top+b.height;var b=b.top-U(this.G.getWidget(),"height")-5,c,d;c=b-10>this.P.width?this.P.width:b-10;d=this.P.width/2-c/2;this.Za.updateCSS({left:0,top:a,width:"100%"});this.G.updateCSS({top:b});this.m.updateCSS({left:d,
top:0,width:c,height:c});R(this.ca.nc,{top:b-15,left:10,width:this.P.width-10,fontSize:S.Me});this.G.dispatchEvent("change");R(this.H,{left:this.P.width-30});this.S&&R(this.S,{height:this.P.height,width:this.P.widget,left:this.P.left,top:this.P.top})};V.prototype.updateCSS=V.prototype.updateCSS;function Of(a){var b={};b.widget=P("div",a,"ProgressWidget",{position:"absolute",marginLeft:"25%",width:"50%",marginTop:"50%"});b.label=P("div",b.widget,"ProgressBar_Label",{fontFamily:$.fontFamily,color:"rgba(255,255,255)",fontSize:11});b.label.innerHTML="Loading...";b.hg=P("div",b.widget,"ProgressBar",{height:10,eb:"none",position:"relative",top:5,borderRadius:0,border:"solid 1px rgba(125,125,125)",overflow:"hidden"});var c=new pf;cd(c,b.hg);a=zb("progress-bar-thumb",b.widget);R(a,{background:"#d4e4ff",
borderRadius:0,border:"solid 1px rgb(180,180,180)",height:"100%"});b.update=function(a){var e=a.max?a.clear:!1,f=a.add?a.add:!1,h=a.label?a.label:!1;a.clear&&a.clear&&c.setValue(0);e&&c.nb(a.max);f&&c.setValue(c.getValue()+a.add);h&&(b.label.innerHTML=a.label)};b.hide=function(){cc(b.widget,!1)};b.show=function(){cc(b.widget,!0)};return b}u("utils.gui.ProgressBar",Of);Of.prototype.hide=function(){return Of.f.hide.call(this)};Z.Ic={};Z.prototype.Ic=function(a,b){Kf();this.Ig=a;this.be(a);var c=this,d=new Mf(O(c.vf,{buttons:["DONE","Cancel"],message:"undefined"===typeof b?"Select viewers to link. Click 'Done' when finished.":b})),e=d.widget();d.setButtonOnclick("done",function(a){ue(a);Nf(e,S.h,function(){If(c)});Lf()});d.setButtonOnclick("cancel",function(a){ue(a);Nf(e,S.h,function(){If(c)});c.cancel()});XV.updateCSS();De(e,0,function(){Ee(e,S.h)})};Z.prototype.addLinkMenuPopup=Z.prototype.Ic;function De(a,b,c){Y(a,b,0,c)}u("utils.fx.fadeOut",De);function Mf(a){this.Vd=function(a){var b=this.o?this.o():this.u(),c=a?O(b,a):b;this.o=function(){return c}};this.Vd(a);var b=P("div",this.o().parent,this.o().className,this.o().k);this.widget=function(){return b};var c={};a=this.o().buttons&&0<this.o().buttons.length?this.o().buttons:this.o().ng;for(var d=a.length-1;0<=d;d--){var e=P("button",b,"DialogBoxButton",this.o().Jc);e.innerHTML=a[d];e.title=a[d].toLowerCase();c[e.title]={element:e,U:[]};e.onclick=g()}var f=P("div",b,"moveBar",this.o().Qg),
h=P("div",b,"message",this.o().kf);h.innerHTML=this.o().message;this.addStandardButton=g();this.addStandardButton=g();this.addButton=g();this.updateCSS=function(a){a&&this.Vd(a);R(b,this.o().k);a=this.o().Jc.height+this.o().k.margin;var d=this.o().k.width,e=d,q=this.o().k.height-a,v;for(v in c)R(c[v].element,this.o().Jc),e-=70+this.o().k.margin,e<this.o().margin&&(Ue("HERE"),e=d,q-=a),c[v].element.style.left=zf(e),c[v].element.style.top=zf(q);R(h,O(this.o().kf,{top:Me(f.style.height)+this.o().k.margin,
left:this.o().k.margin,width:Me(b.style.width)-2*this.o().k.margin}))};this.setButtonOnclick=function(a,b){for(var d in c)if(a.toLowerCase()===d.toLowerCase()){c[d].element.onclick=b;break}};I(b,"mousedown",function(a){var c=new gd(b);c.addEventListener("drag",g());c.addEventListener("end",function(){c.D()});c.Hb(a)});this.updateCSS()}u("utils.gui.DialogBox",Mf);
Mf.prototype.u=function(){return{className:"utils.gui.DialogBox",parent:document.body,ng:["OK","Cancel"],Oh:"OK Done Cancel Next Yes No".split(" "),buttons:[],message:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",k:{position:"absolute",top:window.innerHeight/2-100,left:window.innerWidth/2-150,width:330,height:140,fontFamily:$.fontFamily,fontSize:$.vg,color:"rgba(255,0,0,1)",border:"solid",borderWidth:1,borderColor:"rgba(0,255,0,1)",
backgroundColor:"rgba(155,155,155,1)",eb:0,zIndex:1E4,margin:15,marginLeft:10,marginRight:10,marginTop:10,marginBottom:10},kf:{position:"absolute"},Qg:{top:0,left:0,width:"100%",height:15,backgroundColor:"rgba(55,55,55,1)"},Jc:{height:15,position:"absolute",border:"solid",borderWidth:1,borderColor:"rgba(0,0,0,1)",backgroundColor:"rgba(125,125,125,1)",eb:0,cursor:"pointer"}}};u("utils.css.absolutePosition",function(a){return a.getBoundingClientRect()});X.prototype.Be=function(){var a=[[]],b=[],c=this;this.b=function(d){function e(b){for(var c=[],d=0,e=a.length;d<e;d++)for(var f=0,h=a[d].length;f<h;f++){var m=b(a[d][f],d,f);m&&c.push(m)}if(0<c.length)return 1===c.length?c[0]:c}function f(){0<b.length&&Q(b,function(a){a()})}function h(){return e(function(a){return a.widget})}function m(b,c){var d=e(function(a,d,e){var f=a.widget===b||a.widget===c,h=a.widget.id===b||a.widget.id===c;if(a===b||a===c||f||h)return{i:d,j:e}});if(2===d.length){var f=a[d[0].Gd][d[0].Hd];
a[d[0].Gd][d[0].Hd]=a[d[1].Gd][d[1].Hd];a[d[1].Gd][d[1].Hd]=f}else throw"SWAP ERROR: ";}var n="object"===typeof d,E="function"===typeof d;if("undefined"===typeof d)return a;if("string"===typeof d){var q=0===d.toLowerCase().indexOf("widgets"),n=0===d.indexOf(S.$f),v=0===d.toLowerCase().indexOf("total");if(q)return h();if(n)return e(function(a){if(a.widget.id===d)return a});if(v)return a.length*a[0].length}else if(n){var n=d.animate&&"off"===d.animate,q=d.element,v=d.loop,G=d.swap,sb=d.insert,We=d.remove,
id=d.viewerAfter,jd=d.addViewersChangedCallback;if(d.tagName)return e(function(a){if(a.widget==d)return a});jd&&b.push(d.addViewersChangedCallback);if(q&&(q=0===d.element.toLowerCase().indexOf("widgets")))return h();if(v)return e(d.loop);if(G)return m(d.swap[0],d.swap[1]);if(id)for(G=d.viewerAfter,q=0,id=a.length;q<id;q++)for(v=0,jd=a[q].length;v<jd;v++)if(a[q][v]===G)return E=q+1===a.length,sb=v+1===a[q].length,E&&sb?a[0][0]:E&&!sb?a[0][v+1]:!E&&sb?a[q+1][0]:a[q+1][v+1];if(sb){q="row"===d.insert;
v="column"===d.insert;G=[];if(q){v=[];G=a[0]&&a[0].length?a[0].length:1;for(q=0;q<G;q++)v.push(new Ce({parent:c.$}));a.push(v);G=v}else if(v){for(var uc=[],v=a.length?a.length:1,q=0;q<v;q++)uc.push(new Ce({parent:c.$}));0===a.length?a.push([uc[0]]):Q(a,function(a,b){a.push(uc[b])});G=uc}n?c.updateCSS():(Q(G,function(a){a.widget.style.opacity=0}),this.vd())}We&&(q="row"===d.remove,v="column"===d.remove,q?1<a.length&&(Q(a[a.length-1],function(a){Y(a.widget,S.h,0);a.widget.parentNode.removeChild(a.widget)}),
a.splice(a.length-1,1)):v&&a[0]&&1<a[0].length&&Q(a,function(a){var b=a.length-1;Y(a[b].widget,S.h,0);a[b].widget.parentNode.removeChild(a[b].widget);a.splice(b,1)}),n?this.updateCSS():this.vd());e(function(a){a.Wb()})}(sb||We)&&f();E&&e(d);this.b.bg=function(b,d){var h;switch(d.widget.className){case S.q.me:h=new V({parent:b.widget.parentNode}),h.updateCSS(U(b.widget))}e(function(c,d,e){c===b&&(a[d][e]=h,b.widget.parentNode.removeChild(b.widget),delete b)});h.$b(d);c.ff();f()}}};
X.prototype.addViewerManager=X.prototype.Be;function zf(a){if(a instanceof Array)return a.map(function(a){return a.toString()+"px"});switch(typeof a){case "number":return a.toString()+"px"}}u("utils.convert.px",zf);function Nf(a,b,c){Y(a,b,0,function(){a.parentNode.removeChild(a);c()})}u("utils.fx.fadeOutAndRemove",Nf);function Ee(a,b,c){Y(a,b,1,c)}u("utils.fx.fadeIn",Ee);W.prototype.Nd=function(){var a=this.va[this.na+"FrameCount"];this.va.getFrames({viewPlane:this.na,filter:"img"}).length>=a&&!this.loaded&&(this.loaded=!0,this.cc.hide(),Ee(this.canvas,S.h),this.df(this.na))};W.prototype.loadCurrViewPlane=W.prototype.Nd;
W.prototype.$b=function(a,b){var c=this;if(a.frames)c=this,this.va=a,this.na=b?b:"sagittal",this.va.ef({viewPlane:c.na,before:function(a){c.loaded=!1;c.cc.update({max:a,clear:!0});De(c.canvas,0);c.cc.show()},load:function(a){var b=Ve(a.src),f=c.va.getFrames({viewPlane:c.na,filter:"img"}),h="<b>"+c.na.charAt(0).toUpperCase()+c.na.slice(1)+"</b>";c.cc.update({label:"Loading...  "+("<br> Scan "+c.va.aa.sessionInfo.Scan.value.toString()+" - "+h+"<br>")+" "+f.length.toString()+" / "+c.va[c.na+"FrameCount"]});
c.va.frames[b]&&(c.va.frames[b].img=a,c.cc.update({add:1}))},complete:function(){c.Nd()}});else throw"FrameHolder.js: Invalid Droppable for FrameHolder.";};W.prototype.loadThumbnail=W.prototype.$b;W.prototype.cf=function(a){var b=this;if(!a)throw"Load Frames error: invalid method parameter -- you need frame paths!";var c=this.rb.getImageData(0,0,this.canvas.width,this.canvas.height);this.frames=a;this.Qb=Math.round(this.frames.length/2);Pf(this.frames[this.Qb],this.canvas,this.rb);this.d.contrastThreshold=IP.thresholdAutoDetect(c.data);Q(this.tf,function(a){a(b.widget)})};W.prototype.loadFrames=W.prototype.cf;function Qf(a,b,c,d,e){function f(a){a&&(a.tabIndex=0,Vd(a,"tab"),x(a,"goog-zippy-header"),a&&h.mf.s(a,rc,h.fd),a&&h.Ze.s(a,"keydown",h.gd))}K.call(this);this.M=e||D();this.Tb=this.M.a(a)||null;this.Cd=this.M.a(d||null);this.B=(this.Ld=ga(b)?b:null)||!b?null:this.M.a(b);this.Oa=!0==c;this.Ze=new Vc(this);this.mf=new Vc(this);var h=this;f(this.Tb);f(this.Cd);this.Yd(this.Oa)}w(Qf,K);var Oa={ke:"action",pe:"toggle"};p=Qf.prototype;p.g=function(){Qf.f.g.call(this);yc(this.Ze);yc(this.mf)};p.yb=k("B");
p.toggle=function(){this.Yd(!this.Oa)};p.Yd=function(a){this.B?cc(this.B,a):a&&this.Ld&&(this.B=this.Ld());this.B&&x(this.B,"goog-zippy-content");this.Cd?(cc(this.Tb,!a),cc(this.Cd,a)):Rf(this,a);this.Oa=a;this.dispatchEvent(new Sf(Oa.pe,this,this.Oa))};function Rf(a,b){a.Tb&&(La(a.Tb,"goog-zippy-expanded",b),La(a.Tb,"goog-zippy-collapsed",!b),Wd(a.Tb,"expanded",b))}p.gd=function(a){if(13==a.keyCode||32==a.keyCode)this.toggle(),this.dispatchEvent(new H(Oa.ke,this)),a.preventDefault(),a.stopPropagation()};
p.fd=function(){this.toggle();this.dispatchEvent(new H(Oa.ke,this))};function Sf(a,b,c){H.call(this,a,b);this.ug=c}w(Sf,H);function Tf(a,b,c,d){d=d||D();var e=d.K("div",{style:"overflow:hidden"});b=d.a(b);b.parentNode.replaceChild(e,b);e.appendChild(b);this.Pc=e;this.Ba=null;Qf.call(this,a,b,c,void 0,d);a=this.Oa;this.Pc.style.display=a?"":"none";Rf(this,a)}w(Tf,Qf);p=Tf.prototype;p.gg=500;p.fg=vf;
p.Yd=function(a){if(this.Oa!=a||this.Ba){"none"==this.Pc.style.display&&(this.Pc.style.display="");var b=this.yb().offsetHeight,c=0;this.Ba?(a=this.Oa,Qc(this.Ba),this.Ba.stop(!1),c=b-Math.abs(parseInt(this.yb().style.marginTop,10))):c=a?0:b;Rf(this,a);this.Ba=new Fd([0,c],[0,a?b:0],this.gg,this.fg);I(this.Ba,["begin","animate","end"],this.Ug,!1,this);I(this.Ba,"end",na(this.Vg,this,a));this.Ba.play(!1)}};p.Ug=function(a){var b=this.yb();b.style.marginTop=a.y-b.offsetHeight+"px"};
p.Vg=function(a){a&&(this.yb().style.marginTop="0");Qc(this.Ba);this.Oa=a;this.Ba=null;a||(this.Pc.style.display="none");this.dispatchEvent(new Sf(Oa.pe,this,a))};function Uf(a){T.call(this,a);this.$a={};var b=U(this.widget,"width")-this.d.ld.k.width-7;this.La=P("div",this.widget,"ScrollArea",{position:"relative",width:b,left:U(this.widget,"width")-b});this.di=k("La");R(this.widget,O(this.d.k,a.k));this.Lb=new N({parent:this.widget,className:"ContentSlider",orientation:"vertical",k:{width:7,backgroundColor:"rgb(0,0,0)",border:"none"},Cc:{height:60,backgroundColor:"rgb(120,120,120)",border:"none"}});this.Lb.addSlideCallback(this.dd,this);this.Lb.bindToMouseWheel(this.widget);
this.updateCSS()}w(Uf,T);u("ScrollGallery",Uf);Uf.prototype.u={className:"ScrollGallery",parent:document.body,orientation:"vertical",Bi:"left",Ci:8,yi:8,xi:8,k:{top:0,left:30,width:S.rd,height:400,position:"absolute",overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"},ld:{parent:document.body,Cc:{height:S.re,width:7,borderWidth:0,borderColor:S.Ud,backgroundColor:"rgba(105,105,105,1)"},k:{borderWidth:0,width:7,borderColor:S.Ud,backgroundColor:"rgba(0, 0, 0, 1)"}}};
Uf.prototype.dd=function(a,b){var c=U(b.widget,"height"),d=[a.getMin(),a.getMax()],e=[0,U(b.La,"height")-c],f=a.getThumb();e[1]>d[1]?(R(f,{opacity:1,height:c*(d[1]/e[1])}),a.enable(!0),c=Math.abs(a.getValue()-100),d=Vf(c,d,e).Pd,R(b.La,{top:-d})):(R(f,{opacity:0}),a.enable(!1),a.setValue(100))};Uf.prototype.addContentToZippy=function(a,b){this.lh[a].contents.appendChild(b);wf.Sh.Ai(this.sh,{height:U(b,"height")});this.updateCSS()};
Uf.prototype.updateCSS=function(a){a&&R(this.widget,a.k);R(this.Lb.getWidget(),{height:U(this.widget,"height")})};Uf.prototype.getScrollables=function(a,b){return this.$a[a][b]};
Uf.prototype.addZippy=function(a){function b(a,b){b.target==b.currentTarget?R(b.target,a):R(Mb(b.target,S.q.oe),a);R(m,a.iconColor)}var c=this,d=2*S.xb,e=this.d.ld.k.width+5;this.$a[a]={};var f,h,m;f=0;for(key in this.$a)f++;f=P("div",this.La,"Header_"+a,{position:"relative",marginTop:1<f?5:0,backgroundColor:"rgb(70,70,70)",width:U(this.La,"width"),height:"1.5em",color:"rgb(0, 0, 0)",fontSize:S.xb,fontFamily:S.fontFamily,cursor:"pointer"});f.className=S.q.oe;f.key=a;this.$a[a].header=f;h=P("div",
f,"HeaderLabel_"+a,{position:"absolute",marginTop:".25em",marginLeft:"1em",backgroundColor:"none"});h.innerHTML=a;this.$a[a].headerLabel=h;m=P("div",f,"ExpandIcon_"+a,{position:"absolute",left:U(this.La,"width"),marginTop:".25em",marginLeft:"-1em"});m.innerHTML="-";this.$a[a].expandIcon=m;d=P("div",this.La,"Content_"+a,{width:U(this.La,"width"),top:d,left:e});this.$a[a].content=d;d=new Tf(f,d,!1);this.$a[a].zippy=d;I(d,Na(),function(a){c.dd(c.Lb,c);a.target.Oa?(m.innerHTML="-",R(m,{marginLeft:"-1em"})):
(m.innerHTML="+",R(m,{marginLeft:"-1.1em"}))});R(f,{backgroundColor:"rgb(70,70,70)"});R(m,{color:"rgb(100,100,100)"});I(f,sc,oa(b,{backgroundColor:"rgb(110,110,110)",iconColor:{color:"rgb(200,200,200)"}}));I(f,F,oa(b,{backgroundColor:"rgb(70,70,70)",iconColor:{color:"rgb(100,100,100)"}}))};function Ge(a){T.call(this,a);var b=this;this.Ob=P("div",this.d.parent,this.d.className+"Container",{position:"absolute","pointer-events":"none"});this.kh=P("div",this.widget,"widgetIcon",this.d.Cg);this.kh.innerHTML="...";this.updateCSS=function(a){a&&(this.Vd(a),R(b.widget,this.o().k))};this.Oc=[];this.$g=function(a){-1===this.Oc.indexOf(a)&&this.Oc.push(a)};I(this.widget,"mousedown",function(a){ue(a);var d=U(b.Ob),e=new gd(b.widget,null,new Qb(0,d.top,0,d.height-S.od));b.Ke=!0;e.addEventListener("drag",
function(a){ue(a);Q(b.Oc,function(c){c(b.widget,a)})});e.addEventListener("end",function(){b.Ke=!1;e.D()});e.Hb(a)});this.updateCSS()}w(Ge,T);u("ContentDivider",Ge);
Ge.prototype.u={className:"ContentDivider",parent:document.body,orientation:"vertical",className:"ContentDivider",k:{position:"absolute",top:"90%",left:0,width:"100%",height:S.od,cursor:"n-resize",backgroundColor:S.le,opacity:1,color:"rgb(85,85,85)",fontSize:25,textAlign:"center"},Jh:{top:0,left:0,width:650,height:400},Cg:{position:"absolute",color:"rgba(0,0,0)",width:"20%",left:"40%",top:-11,fontSize:20,textAlign:"center"}};
function Je(a,b){var c=U(a.widget),c=new Id(a.widget,[c.left,c.top],[0,b],S.hc,vf);I(c,"animate",function(){Q(a.Oc,function(b){b(a.widget)})});c.play()};function Ye(a,b){if("string"!==typeof a)throw Error("Illegal value "+typeof a+" in argument of utils.convert.replaceIllegalChars.");b||(b="");return a.replace(/\/./g,b)}u("utils.convert.replaceIllegalChars",Ye);function U(a,b){if(b&&"string"===typeof b)switch(b){case "height":return a.clientHeight;case "width":return a.clientWidth;case "outerHeight":return a.offsetHeight;case "outerWidth":return a.offsetWidth;case "offsetTop":return a.offsetTop;case "offsetLeft":return a.offsetLeft;default:if(!/%emt/.test(a.style[b]))return Me(a.style[b]);var c=Yb(a,a.parentNode),c={left:Me(a.style.left)||c.x,top:Me(a.style.top)||c.y};return c[b]}else{var d={},c=Yb(a,a.parentNode),c={left:Me(a.style.left)||c.x,top:Me(a.style.top)||
c.y},d=O(d,c);d.left=c.left;d.top=c.top;d.height=a.clientHeight;d.width=a.clientWidth;d.outerHeight=a.offsetWidth;d.outerWidth=a.offsetHeight;d.offsetTop=a.offsetTop;d.offsetLeft=a.offsetLeft;return d}}u("utils.css.dims",U);X.addScrollGallery={};
X.prototype.addScrollGallery=function(){var a=this;this.ScrollGallery=new Uf({parent:a.$,orientation:"vertical",k:{left:0,top:a.d.marginTop,height:700}});a.ScrollGallery.addZippy("Scans");var b=a.ScrollGallery.getScrollables("Scans","content"),c=U(b,"width");Q(a.Af,function(d){a.hb.push(new Xe(d,{parent:b,k:{position:"relative",left:0,width:c},onloadCallbacks:[function(){a.ScrollGallery.dd(a.ScrollGallery.Lb,a.ScrollGallery)}]}))});a.ScrollGallery.addZippy("Slicer");b=a.ScrollGallery.getScrollables("Slicer","content");
c=U(b,"width");Q(a.Af,function(d){a.hb.push(new Xe(d,{parent:b,k:{position:"relative",left:0,width:c},onloadCallbacks:[function(){a.ScrollGallery.dd(a.ScrollGallery.Lb,a.ScrollGallery)}]}))})};X.prototype.addScrollGallery=X.prototype.addScrollGallery;X.setThumbnailDragAndDrop={};
function Ke(a){a.Xa={};a.Xa.dragOver=function(a){-1<a.Q.element.className.indexOf(S.q.Fc)&&(a.da.element.jd=a.da.element.style.borderColor,a.da.element.style.borderColor="white")};a.Xa.dragOut=function(a){-1<a.Q.element.className.indexOf(S.q.Fc)&&(a.da.element.style.borderColor=a.da.element.jd)};a.Xa.drop=function(b){if(-1<b.Q.element.className.indexOf(S.q.Fc)){var c,d,e=a.b(b.da.element);Q(a.hb,function(a){d||a.widget!=b.Q.element||(c=a,d=!0)});e&&(a.b.bg(e,c),a.updateCSS());b.da.element.jd&&(b.da.element.style.borderColor=
b.da.element.jd)}};a.Xa.dragStart=function(){Q(a.hb,g())}}
X.prototype.setThumbnailDragAndDrop=function(){function a(a,d){b.Xa.drop({da:{element:a.widget},Q:{element:d.widget}})}var b=this;b.b(function(a){Q(b.hb,function(b){b.he.push(a);a.Wc=!0;b.Vc=!0});I(a,"dragover",b.Xa.dragOver);I(a,"dragout",b.Xa.dragOut);I(a,"drop",b.Xa.drop)});Q(b.hb,function(a){a.Sa();I(a,"dragstart",b.Xa.dragStart)});Q(b.hb,function(c){I(c.widget,rc,function(){var d=(new Date).getTime(),e=c.ic?c.ic:void 0,f=!1;c.ic=d;e&&1E3>d-e||(b.b(function(b){f||b.jc||(f=!0,a(b,c))}),f||b.b(function(d){if(!f){if(S.Of)if(S.Of===
d.widget.id)d=b.b({viewerAfter:d});else return;else d=b.b()[0][0];S.Of=d.widget.id;a(d,c);f=!0}}))})})};X.prototype.setThumbnailDragAndDrop=X.prototype.setThumbnailDragAndDrop;function P(a,b,c,d){if(!a)throw Error("utils.dom.makeElement: Cannot make element without a valid type.");b||(Ue("utils.dom.makeElement: "),Ue("utils.dom.makeElement: "),Ue("utils.dom.makeElement: "));a=document.createElement(a);a.id=c+"_"+te();Se(a,c);d&&R(a,d);b&&b.appendChild(a);return a}u("utils.dom.makeElement",P);function Y(a,b,c,d){a=new Md(a,a.style.opacity?parseInt(a.style.opacity,10):1,c,b);d&&a.addEventListener("end",function(a){d(a)});a.play()}u("utils.fx.fadeTo",Y);function nf(a){a.U={};a.Eh=function(b,c){a.U[b]||(a.U[b]=[]);-1===a.U[b].indexOf(c)&&a.U[b].push(c)};a.Rh=function(b,c){var d=a.U[b].indexOf(c);-1<d&&a.U[b].splice(d,1)};a.wi=function(b){for(var c=0,d=a.U[b].length;c<d;c++)a.U[b][c]()}}u("utils.dom.addCallbackManager",nf);Z.be={};Z.prototype.be=function(a){var b=this;bf();XV.b(function(c){c.S?R(c.S,{"pointer-events":"auto"}):(c.S=Hf(c.widget.parentNode,U(c.widget)),c.S.style.border="none",c.S.Aa=c,c.S.onclick=function(){var a=this.Aa;b.Ig=a;$e(b,a,!1);-1===b.ga[b.ga.length-1].b.indexOf(a)&&(b.ga[b.ga.length-1].b.push(a),a.S.style.border=b.lastGroup().border,Y(a.S,S.h,1))});if(c===a)c.S.onclick()})};Z.prototype.setViewerClickListen=Z.prototype.be;function Q(a,b){Aa(a,b)}u("utils.array.forEach",Q);u("utils.convert.pct",function(a){return(100*a).toString()+"%"});V.prototype.Ae=function(){var a=this,b=23*1.2,c=["Sagittal","Coronal","Transverse","3D"],d=[];this.e=P("div",this.widget,"ViewPlaneMenu",{position:"absolute",left:7,top:7,height:23,width:23,cursor:"pointer"});this.e.title="Select View Plane";this.e.O=P("img",this.e,"menuIcon",{position:"absolute",height:23,width:23,cursor:"pointer"});this.e.O.src="./icons/ViewPlaneMenu/Sagittal.png";this.e.O.axis="Sagittal";this.e.O.title="Sagittal";d.push(this.e.O);this.e.t=P("div",this.e,"subMenu",{position:"relative",
left:34.5,height:23,width:b*c.length,cursor:"pointer"});this.e.t.Yg=!1;this.e.t.Ab=[];var e=0;Q(c,function(b){if(b!=a.e.O.axis){var c=P("img",a.e.t,"Icon",{position:"absolute",top:0,left:1.2*23*e,height:23,width:23,cursor:"pointer"});c.src="./icons/ViewPlaneMenu/"+b+".png";c.axis=b;c.title=b;a.e.t.Ab.push(c);d.push(c);e++}});Q(d,function(b){"3D"!==b.axis&&I(b,rc,function(b){ue(b);0<a.m.frames.length&&(a.m.oi(a.m.va,b.currentTarget.axis.toLowerCase()),a.e.te(b.currentTarget.title))})});this.e.te=function(b){Q(a.e.t.Ab,
function(c){if(c.title.toLowerCase()===b.toLowerCase()){Y(c,S.h,1);var e,n,E;e=a.e.O.src;n=a.e.O.axis;E=a.e.O.title;a.e.O.src=c.src;a.e.O.axis=c.axis;a.e.O.title=c.title;c.src=e;c.axis=n;c.title=E;d.push(a.e.O)}else Y(c,S.h,0.5)})};(function(){Y(a.e.O,0,0.5);I(a.e.O,sc,function(){Y(a.e.O,S.h,1);Y(a.e.t,S.h,1)});I(a.e.O,F,function(){a.e.t.cd=!1;delay=new wd(function(){a.e.t.cd||(Y(a.e.O,S.h,0.5),Y(a.e.t,S.h,0))},800);delay.start()});De(a.e.t,0);I(a.e.t,sc,function(){a.e.t.cd=!0});I(a.e.t,F,function(){a.e.t.cd=
!1;delay=new wd(function(){a.e.t.cd||Y(a.e.t,S.h,0)},800);delay.start()});Q(a.e.t.Ab,function(a){Y(a,0,0.5)});Q(a.e.t.Ab,function(a){I(a,sc,function(a){Y(a.currentTarget,S.h,1)});I(a,F,function(a){Y(a.currentTarget,S.h,0.5)})})})()};V.prototype.addViewPlaneMenu=V.prototype.Ae;function $(){}u("utils.globals",$);$.vg=10;$.Le=13;$.Yh=16;$.fontFamily="Helvetica, Helvetica neue, Arial, sans-serif";$.h=200;$.Gh=500;$.eg=100;He.prototype.ze=function(){var a=this,b={position:"absolute",top:0,color:"white",fontSize:S.xb,fontFamily:S.fontFamily,backgroundColor:"rgb(0,0,0)",width:S.Td,height:S.xa-1,cursor:"pointer",backgroundColor:"rgba(0,0,0,1)"},c={position:"absolute",top:Math.round((S.xa-0.85*S.xa)/2),left:Math.round(S.Td/2-0.85*S.xa/2),height:Math.round(0.75*S.xa),width:Math.round(0.75*S.xa),opacity:0.6},d={position:"absolute",top:S.xa-1,color:"white",fontFamily:S.fontFamily,backgroundColor:"rgb(0,0,0)"};Q(this.d.Mf,
function(e,f){var h=P("div",a.widget,"Tab",O(b,{left:S.Td*f+3*f}));h.title=e;P("img",h,"TabIcon",c).src=a.d.dh[f];h=P("div",a.d.parent,"TabPage",O(d,{width:U(a.widget,"width")}));h.label=e;hf(a.Lf,new jf(h),f);a.Nf.push(h)})};He.prototype.addTabs=He.prototype.ze;u("utils.dom.getMouseXY",function(a){"Microsoft Internet Explorer"===navigator.appName?(tempX=event.clientX+document.body.scrollLeft,tempY=event.clientY+document.body.scrollTop):(tempX=a.pageX,tempY=a.pageY);0>tempX&&(tempX=0);0>tempY&&(tempY=0);return{x:tempX,y:tempY}});V.prototype.ve=function(){var a=this,b={k:{position:"absolute",width:100,height:20},Cc:{height:18,width:6,eb:0,borderColor:S.Ud,backgroundColor:"rgba(185,185,185,1)"},hh:{width:"100%",height:6,position:"absolute",top:6,border:"solid 1px rgb(155,155,155)",eb:0}},c={position:"absolute",color:"rgba(255, 255, 255)",fontSize:S.Me,fontFamily:S.fontFamily,width:60,height:10},d;Q(["Brightness","Contrast"],function(e,f){d=e+"Slider";var h;this[d]=new N(O(b,{parent:a.Za.qc("Adjust"),className:e+"Slider",k:{top:15+
30*f,left:80,borderColor:"rgb(180,180,180)"}}));P("div",a.Za.qc("Adjust"),"SliderLabel",O(c,{top:15+30*f+b.Cc.height/2-S.xb/2+2,left:15})).innerHTML=e;h=P("div",a.Za.qc("Adjust"),"SliderLabel",O(c,{top:15+30*f+b.Cc.height/2-S.xb/2-2+3,left:190,fontSize:S.xb}));h.innerHTML="0";this[d].addSlideCallback(function(b){b=b.getValue();h.innerHTML=Math.round(b);yf(a.m,e.toLowerCase(),b)})})};V.prototype.addAdjustSliders=V.prototype.ve;V.prototype.uf=function(a){a=a.Cf;var b=0;this.Cf=new Uf({parent:this.Za.qc("Info"),className:"SessionData_ScrollGallery",orientation:"vertical",k:{left:0,height:"80%",width:440,top:S.Bf+10}});var c=P("div",this.Cf.La,"SessionData_ScrollGallery_MetadataContents",{});for(i in a){var d=a[i].label.replace(/\s+/g," "),e=this.md.fontSize*2*b;this.ca[d]=P("div",c,"SessionData_ScrollGalleryData_"+d);R(this.ca[d],O(this.md,{top:e,left:15}));this.ca[d].innerHTML=a[i].label+":";this.ca[d+"_value"]=P("div",
c,"SessionData_ScrollGalleryValue_"+d);R(this.ca[d+"_value"],O(this.md,{top:e,left:160}));this.ca[d+"_value"].innerHTML=a[i].value[0];b++}R(c,{height:e})};V.prototype.populateData=V.prototype.uf;function Me(a){return parseInt(a,10)}u("utils.convert.toInt",Me);X.prototype.ff=function(){var a=[];XV.b(function(b){(b=b.jc)&&a.push(b.widget.id)});Q(this.hb,function(b){var c=!1;Q(a,function(a){b.widget.id===a&&(b.setActive(!0),c=!0)});c||b.setActive(!1)})};X.prototype.manageActiveThumbs=X.prototype.ff;W.prototype.df=function(a){this.na=a.toLowerCase();this.Aa.e.te(this.na);a=this.va.getFrames({viewPlane:this.na,filter:"img"});this.cf(a)};W.prototype.loadFramesByViewPlane=W.prototype.df;X.prototype.ye=function(){function a(a){var d=P("img",b.qd,a.id,{position:"absolute",cursor:"pointer",zIndex:100,height:zf(0.5*S.J),top:zf(0.25*S.J),textAlign:"right",left:zf(a.left)});Y(d,0,0.5);I(d,sc,function(){Y(d,S.h,1)});I(d,F,function(){Y(d,S.h,0.5)});d.src=a.src;d.title=a.title;I(d,rc,function(){Y(d,S.h,0.5);a.onclick()})}var b=this;this.qd=P("div",this.$,"RowMenu",{position:"absolute",textAlign:"right",display:"inline-block","vertical-align":"middle"});a({id:"InsertRowButton",src:"./icons/Arrows/insertRowArrow.png",
left:0,title:"Insert Row",onclick:function(){XV.b({insert:"row"})}});a({id:"RemoveRowButton",src:"./icons/Arrows/removeRowArrow.png",left:23,title:"Remove Row",onclick:function(){XV.b({remove:"row"})}})};X.prototype.addRowMenu=X.prototype.ye;function Se(a,b){a.className+=(0<a.className.length?" ":"")+b}u("utils.dom.addClass",Se);function te(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}u("utils.dom.uniqueId",te);X.prototype.zd=function(){var a=this;Ue("Destroying! "+this.d.id);De(this.widget,S.hc,function(){try{a.d.parent.removeChild(a.widget)}catch(b){}})};X.prototype.destroy=X.prototype.zd;X.updateCSS={};
X.prototype.updateCSS=function(a){modalDims=this.Od();R(this.$,modalDims);a&&R(this.$,a);this.ScrollGallery&&this.ScrollGallery.updateCSS(modalDims.ScrollGallery);this.b&&this.b(function(a,c,d){a.updateCSS({height:modalDims.Viewer.height,width:modalDims.Viewer.width,left:modalDims.Viewer.lefts[c][d],top:modalDims.Viewer.tops[c][d]})});this.qb&&R(this.qb,modalDims.closeButton);this.nd&&this.qd&&(R(this.nd,{top:modalDims.ColumnMenu.top,left:modalDims.ColumnMenu.left,height:modalDims.ColumnMenu.height,width:modalDims.ColumnMenu.width}),
R(this.qd,{top:modalDims.RowMenu.top,left:modalDims.RowMenu.left,height:modalDims.RowMenu.height,width:modalDims.RowMenu.width}))};X.prototype.updateCSS=X.prototype.updateCSS;function Vf(a,b,c){function d(a){var b=a[0];a[0]=a[1];a[1]=b;return a}if(b[0]===b[1]||c[0]===c[1])throw"Remap: initial domain is equal!";b[0]>b[1]&&(b=d(b));c[0]>c[1]&&(c=d(c));if(a<=b[0])return a=b[0],a={Pd:c[0],De:a};if(a>=b[1])return a=b[1],a={Pd:c[1],De:a};b=Math.round(a/(b[1]-b[0])*(c[1]-c[0]));b<c[0]?b=c[0]:b>c[1]&&(b=c[1]);return{Pd:b,De:a}}u("utils.convert.remap1D",Vf);
